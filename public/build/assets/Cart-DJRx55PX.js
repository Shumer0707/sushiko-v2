import{n as B,c as u,o as n,a as e,b as q,t,e as s,w as j,d as w,l as O,H as W,q as T,g as _,F as P,z as y,h as z,j as L,_ as E,r as G,s as M,y as A,I as H,i as Z,f,v as S,k as ee,C as F,D as te}from"./app-BK6yevhJ.js";import{P as se,a as oe}from"./PageGradient-SE9xDYg3.js";const re={class:"text-center py-12 sm:py-16 px-4"},le={class:"text-xl sm:text-2xl font-bold text-sushi-silver mb-4"},ie={class:"text-sushi-silver/60 mb-6 text-sm sm:text-base"},ne={__name:"CartEmpty",props:{locale:{type:String,required:!0}},setup(a){const p=B().props.translations.common;return(c,g)=>(n(),u("div",re,[g[0]||(g[0]=e("div",{class:"text-5xl sm:text-6xl mb-4"},"ðŸ›’",-1)),e("h2",le,t(s(p).cart_empty_title),1),e("p",ie,t(s(p).cart_empty_description),1),q(s(O),{href:c.route("home",{locale:a.locale}),class:"inline-block bg-sushi-gold hover:bg-sushi-gold_op text-sushi-dark px-6 py-3 rounded-lg font-medium transition-colors"},{default:j(()=>[w(t(s(p).cart_empty_button),1)]),_:1},8,["href"])]))}},ae={class:"bg-sushi-dark/50 border border-sushi-first rounded-lg p-4 hover:border-sushi-gold/50 transition-colors"},de={class:"flex flex-col lg:flex-row lg:items-center gap-4"},ue={class:"flex items-center gap-4 flex-grow"},ce={class:"w-20 h-20 sm:w-24 sm:h-24 bg-sushi-first rounded-lg overflow-hidden"},me=["src","alt"],he={key:1,class:"w-full h-full flex items-center justify-center text-2xl sm:text-3xl"},pe={class:"flex-grow min-w-0"},ve={class:"text-sm mt-1"},xe={class:"text-sushi-gold line-through"},_e={class:"text-sushi-silver/60 ml-1"},be={class:"ml-2 text-sushi-red_promo font-bold"},ye={key:1,class:"text-sushi-silver/60"},fe={class:"flex items-center justify-between lg:justify-end gap-3 lg:gap-4"},ge={class:"flex items-center gap-1 sm:gap-2 bg-sushi-first rounded-lg overflow-hidden"},ke={class:"px-3 sm:px-4 py-2 text-sushi-silver font-medium min-w-[2.5ch] text-center"},we={class:"text-right min-w-[80px] sm:min-w-[100px]"},$e={class:"font-bold text-sushi-gold text-sm sm:text-base"},Ce=["title"],qe={__name:"CartItem",props:{item:{type:Object,required:!0},locale:{type:String,required:!0}},emits:["increment","decrement","remove"],setup(a){const p=B().props.translations.common,c=a,g=W(),r=T(()=>{var x,h;return((x=c.item.product)==null?void 0:x.has_promotion)&&((h=c.item.product)==null?void 0:h.promotion_type)==="discount"}),d=T(()=>{var x,h;return((x=c.item.product)==null?void 0:x.has_promotion)&&((h=c.item.product)==null?void 0:h.promotion_type)==="gift"}),v=T(()=>g.unitPrice(c.item.product)),o=T(()=>(v.value*c.item.quantity).toFixed(2)),V=T(()=>{var x,h;return((h=(x=c.item.product)==null?void 0:x.gift_product)==null?void 0:h.name)||""}),C=T(()=>{var x,h;return((h=(x=c.item.product)==null?void 0:x.gift_product)==null?void 0:h.slug)||""}),U=()=>{C.value&&L.visit(route("product.show",{locale:c.locale,slug:C.value}))};return(x,h)=>(n(),u("div",ae,[e("div",de,[e("div",ue,[q(s(O),{href:x.route("product.show",{locale:a.locale,slug:a.item.product.slug}),class:"flex-shrink-0"},{default:j(()=>[e("div",ce,[a.item.product.image_url?(n(),u("img",{key:0,src:a.item.product.image_url,alt:a.item.product.name,class:"w-full h-full object-cover hover:scale-110 transition-transform duration-300"},null,8,me)):(n(),u("div",he,"ðŸ£"))])]),_:1},8,["href"]),e("div",pe,[q(s(O),{href:x.route("product.show",{locale:a.locale,slug:a.item.product.slug}),class:"font-semibold text-sushi-silver hover:text-sushi-gold transition-colors block truncate"},{default:j(()=>[w(t(a.item.product.name),1)]),_:1},8,["href"]),e("div",ve,[r.value?(n(),u(P,{key:0},[e("span",xe,t(a.item.product.price),1),e("span",_e,t(a.item.product.currency),1),e("span",be,t(v.value.toFixed(2)),1)],64)):(n(),u("span",ye,t(v.value.toFixed(2))+" "+t(a.item.product.currency),1)),d.value&&V.value?(n(),u("div",{key:2,onClick:h[0]||(h[0]=z(b=>C.value&&U(),["stop"])),class:y(["text-xs text-sushi-red_promo font-bold mt-1 w-fit",C.value?"underline cursor-pointer hover:opacity-100 opacity-90 transition":"opacity-80"])}," ðŸŽ + "+t(V.value),3)):_("",!0)])])]),e("div",fe,[e("div",ge,[e("button",{onClick:h[1]||(h[1]=b=>x.$emit("decrement")),class:"px-2 sm:px-3 py-2 bg-sushi-dark hover:bg-sushi-red/40 text-sushi-gold font-bold transition-colors text-lg"}," âˆ’ "),e("span",ke,t(a.item.quantity),1),e("button",{onClick:h[2]||(h[2]=b=>x.$emit("increment")),class:"px-2 sm:px-3 py-2 bg-sushi-dark hover:bg-sushi-red/40 text-sushi-gold font-bold transition-colors text-lg"}," + ")]),e("div",we,[e("p",$e,t(o.value)+" "+t(a.item.product.currency),1)]),e("button",{onClick:h[3]||(h[3]=b=>x.$emit("remove")),class:"text-red-400 hover:text-red-300 p-2 transition-colors flex-shrink-0",title:s(p).cart_item_remove},h[4]||(h[4]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,Ce)])])]))}},Ne={class:"lg:col-span-1"},Se={class:"bg-sushi-dark/50 border border-sushi-first rounded-lg p-4 sm:p-6 lg:sticky lg:top-24"},Te={class:"text-xl font-bold text-sushi-silver mb-4"},Me={class:"space-y-2 mb-4 max-h-[200px] overflow-y-auto custom-scrollbar"},Ue={class:"flex-grow min-w-0 pr-2"},Ve={class:"truncate block"},De={class:"text-xs text-sushi-silver/60"},Fe={key:0,class:"text-sushi-gold line-through"},je={key:1,class:"ml-2 text-sushi-red_promo font-bold"},Pe={class:"font-medium text-sushi-gold flex-shrink-0"},Ie={class:"space-y-3 mb-6"},Be={class:"flex justify-between text-sushi-silver/80 text-sm sm:text-base"},Oe={class:"flex justify-between text-sushi-silver/80 text-sm sm:text-base"},ze={key:0,class:"text-sushi-gold font-medium"},We={key:1,class:"text-sushi-silver"},Re={key:0,class:"text-xs text-sushi-gold/80 bg-sushi-first/20 rounded p-2"},Ae={class:"border-t border-sushi-first pt-3"},Ee={class:"flex justify-between items-center"},Ge={class:"text-base sm:text-lg font-semibold text-sushi-silver"},Le={class:"text-xl sm:text-2xl font-bold text-sushi-gold"},He={__name:"CartSummary",props:{items:{type:Array,required:!0},totalItems:{type:Number,required:!0},totalPrice:{type:[Number,String],required:!0},currency:{type:String,required:!0},locale:{type:String,required:!0},deliveryCost:{type:Number,required:!0},isFreeDelivery:{type:Boolean,required:!0},amountUntilFree:{type:[Number,String],required:!0},totalWithDelivery:{type:[Number,String],required:!0}},emits:["checkout","clear"],setup(a){const p=B().props.translations.common,c=W(),g=d=>!!(d!=null&&d.has_promotion)&&(d==null?void 0:d.promotion_type)==="gift",r=d=>{var v;return((v=d==null?void 0:d.gift_product)==null?void 0:v.name)||""};return(d,v)=>(n(),u("div",Ne,[e("div",Se,[e("h3",Te,t(s(p).cart_summary_title),1),e("div",Me,[(n(!0),u(P,null,G(a.items,o=>(n(),u("div",{key:o.product.id,class:"flex justify-between items-center text-sm text-sushi-silver/80 py-2 border-b border-sushi-first/30"},[e("div",Ue,[e("span",Ve,t(o.product.name),1),e("span",De,[w(t(o.quantity)+" Ã— ",1),o.product.has_promotion&&o.product.promotion_type==="discount"?(n(),u("span",Fe,t(o.product.price),1)):_("",!0),e("span",{class:y(o.product.has_promotion&&o.product.promotion_type==="discount"?"text-sushi-red_promo font-bold ml-1":"")},t(s(c).unitPrice(o.product).toFixed(2)),3),w(" "+t(a.currency)+" ",1),g(o.product)&&r(o.product)?(n(),u("span",je," ðŸŽ + "+t(r(o.product)),1)):_("",!0)])]),e("span",Pe,t((s(c).unitPrice(o.product)*o.quantity).toFixed(2)),1)]))),128))]),v[2]||(v[2]=e("div",{class:"border-t border-sushi-first my-4"},null,-1)),e("div",Ie,[e("div",Be,[e("span",null,t(s(p).cart_summary_products)+" ("+t(a.totalItems)+")",1),e("span",null,t(a.totalPrice)+" "+t(a.currency),1)]),e("div",Oe,[e("span",null,t(s(p).cart_summary_delivery),1),a.isFreeDelivery?(n(),u("span",ze,t(s(p).cart_summary_free_delivery),1)):(n(),u("span",We,t(a.deliveryCost)+" "+t(a.currency),1))]),!a.isFreeDelivery&&Number(a.amountUntilFree)>0?(n(),u("div",Re," ðŸ’¡ "+t(s(p).cart_summary_until_free)+" "+t(a.amountUntilFree)+" "+t(a.currency)+" "+t(s(p).cart_summary_until_free_text),1)):_("",!0),e("div",Ae,[e("div",Ee,[e("span",Ge,t(s(p).cart_summary_total),1),e("span",Le,t(a.totalWithDelivery)+" "+t(a.currency),1)])])]),e("button",{onClick:v[0]||(v[0]=o=>d.$emit("checkout")),class:"block w-full bg-sushi-gold hover:bg-sushi-gold_op text-sushi-dark py-3 rounded-lg font-medium text-center transition-colors mb-3"},t(s(p).cart_summary_checkout),1),q(s(O),{href:d.route("home",{locale:a.locale}),class:"block w-full bg-sushi-first hover:bg-sushi-first/80 text-sushi-silver border border-sushi-dark py-3 rounded-lg font-medium text-center transition-colors"},{default:j(()=>[w(t(s(p).cart_summary_continue),1)]),_:1},8,["href"]),e("button",{onClick:v[1]||(v[1]=o=>d.$emit("clear")),class:"w-full mt-4 text-red-400 hover:text-red-300 text-sm underline transition-colors"},t(s(p).cart_summary_clear),1)])]))}},Qe=E(He,[["__scopeId","data-v-c17f692c"]]),Je={class:"text-2xl font-bold text-sushi-silver mb-2"},Ke={class:"text-sushi-silver/80 text-sm"},Xe={__name:"SuccessModal",props:{isOpen:Boolean,title:{type:String,default:"Ð—Ð°ÐºÐ°Ð· Ð¿Ñ€Ð¸Ð½ÑÑ‚"},message:{type:String,default:"Ð’Ð°Ñˆ Ð·Ð°ÐºÐ°Ð· ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð¾Ñ„Ð¾Ñ€Ð¼Ð»ÐµÐ½. ÐžÐ¶Ð¸Ð´Ð°Ð¹Ñ‚Ðµ Ð·Ð²Ð¾Ð½ÐºÐ° Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð°."},buttonText:{type:String,default:"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ"}},emits:["close"],setup(a,{emit:N}){const p=N,c=M(!1),g=()=>{c.value=!0,setTimeout(()=>p("close"),250)};return(r,d)=>(n(),A(H,{"is-visible":a.isOpen,"z-index":9999,onClose:g},{default:j(()=>[a.isOpen?(n(),u("div",{key:0,class:"fixed inset-0 flex items-center justify-center p-4",onClick:g},[e("div",{onClick:d[0]||(d[0]=z(()=>{},["stop"])),class:y(["bg-sushi-dark border border-sushi-gold rounded-xl w-full max-w-md p-6 text-center modal-content",c.value?"closing":""])},[d[1]||(d[1]=e("div",{class:"text-sushi-gold text-5xl mb-4"},"âœ”ï¸",-1)),e("h2",Je,t(a.title),1),e("p",Ke,t(a.message),1),e("button",{onClick:g,class:"mt-6 w-full bg-sushi-gold hover:bg-sushi-gold_op text-sushi-dark py-3 rounded-lg font-medium transition-colors"},t(a.buttonText),1)],2)])):_("",!0)]),_:1},8,["is-visible"]))}},Ye=E(Xe,[["__scopeId","data-v-88273270"]]),Ze={class:"flex items-center justify-between p-4 sm:p-6 border-b border-sushi-first"},et={class:"text-lg sm:text-2xl font-bold text-sushi-silver"},tt={class:"p-4 sm:p-6"},st={class:"bg-sushi-first/30 border border-sushi-gold/30 rounded-lg p-3 sm:p-4 mb-6 space-y-2"},ot={class:"flex justify-between items-center flex-wrap gap-2"},rt={class:"text-sushi-silver/80 text-sm sm:text-base"},lt={class:"text-xl sm:text-2xl font-bold text-sushi-gold"},it={class:"text-xs sm:text-sm text-sushi-silver/70 space-y-1"},nt={class:"flex justify-between"},at={class:"text-sushi-silver"},dt={class:"flex justify-between"},ut={class:"text-sushi-silver"},ct={class:"text-xs text-sushi-silver/60"},mt={key:0,class:"bg-red-500/10 border border-red-400 rounded-lg p-4 mb-6"},ht={class:"text-red-400 font-medium"},pt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},vt={class:"block text-sm font-medium text-sushi-silver mb-2"},xt={class:"text-red-400"},_t=["placeholder"],bt={key:0,class:"text-red-400 text-xs mt-1"},yt={class:"block text-sm font-medium text-sushi-silver mb-2"},ft={class:"text-red-400"},gt={class:"flex gap-2"},kt={class:"relative"},wt=["value"],$t=["placeholder"],Ct={key:0,class:"text-red-400 text-xs mt-1"},qt={class:"block text-sm font-medium text-sushi-silver mb-2"},Nt={class:"text-red-400"},St=["placeholder"],Tt={key:0,class:"text-red-400 text-xs mt-1"},Mt={class:"block text-sm font-medium text-sushi-silver mb-3"},Ut={class:"text-red-400"},Vt={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},Dt={class:"text-sushi-silver text-sm sm:text-base"},Ft={class:"text-sushi-silver text-sm sm:text-base"},jt={key:0,class:"text-red-400 text-xs mt-1"},Pt={key:0,class:"bg-sushi-first/30 border border-sushi-gold/30 rounded-lg p-4"},It={class:"text-sushi-silver font-medium mb-2"},Bt={class:"text-sushi-silver/80 text-sm mb-1"},Ot={class:"text-sushi-silver/60 text-xs"},zt={key:1,class:"space-y-4 bg-sushi-first/10 border border-sushi-first rounded-lg p-4"},Wt={class:"block text-sm font-medium text-sushi-silver mb-3"},Rt={class:"text-red-400"},At={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},Et={class:"text-sushi-silver text-sm sm:text-base"},Gt={class:"text-sushi-silver text-sm sm:text-base"},Lt={key:0,class:"text-red-400 text-xs mt-1"},Ht={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},Qt={class:"sm:col-span-2"},Jt={class:"block text-sm font-medium text-sushi-silver mb-2"},Kt={class:"text-red-400"},Xt=["required","placeholder"],Yt={key:0,class:"text-red-400 text-xs mt-1"},Zt={class:"block text-sm font-medium text-sushi-silver mb-2"},es={class:"text-red-400"},ts=["required","placeholder"],ss={key:0,class:"text-red-400 text-xs mt-1"},os={key:0,class:"space-y-4"},rs={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},ls={class:"block text-sm font-medium text-sushi-silver mb-2"},is={class:"text-red-400"},ns=["required","placeholder"],as={key:0,class:"text-red-400 text-xs mt-1"},ds={class:"block text-sm font-medium text-sushi-silver mb-2"},us={class:"text-red-400"},cs=["required","placeholder"],ms={key:0,class:"text-red-400 text-xs mt-1"},hs={key:1,class:"text-xs text-sushi-silver/50 mt-1"},ps={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},vs={class:"block text-sm font-medium text-sushi-silver mb-2"},xs=["placeholder"],_s={key:0,class:"text-red-400 text-xs mt-1"},bs={class:"block text-sm font-medium text-sushi-silver mb-2"},ys=["placeholder"],fs={key:0,class:"text-red-400 text-xs mt-1"},gs={key:1,class:"text-xs text-sushi-silver/50 mt-1"},ks={class:"block text-sm font-medium text-sushi-silver mb-3"},ws={class:"text-red-400"},$s={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},Cs={class:"text-sushi-silver text-sm sm:text-base"},qs={class:"text-sushi-silver text-sm sm:text-base"},Ns={key:0,class:"text-red-400 text-xs mt-1"},Ss={class:"block text-sm font-medium text-sushi-silver mb-2"},Ts=["placeholder"],Ms={key:0,class:"text-red-400 text-xs mt-1"},Us={class:"flex flex-col sm:flex-row gap-3 pt-4"},Vs=["disabled"],Ds={__name:"CheckoutModal",props:{isOpen:{type:Boolean,required:!0}},emits:["close"],setup(a,{emit:N}){const p=a,c=N,r=B().props.translations.common,d=W(),v=M({}),o=M({name:"",phone:"",phoneCode:"+373",email:"",deliveryMethod:"pickup",addressType:"apartment",address:"",houseNumber:"",apartmentNumber:"",entrance:"",floor:"",intercom:"",comment:"",payment:"cash"}),V=[{code:"+373",label:"MD",flag:"ðŸ‡²ðŸ‡©"},{code:"+40",label:"RO",flag:"ðŸ‡·ðŸ‡´"},{code:"+380",label:"UA",flag:"ðŸ‡ºðŸ‡¦"}],C=M(!1),U=M(!1),x=M(!1);Z(()=>p.isOpen,$=>{$?(document.body.style.overflow="hidden",U.value=!1):document.body.style.overflow=""});const h=T(()=>{const $=d.totalItems,i=$%10,l=$%100;return l>=11&&l<=19?r.item_5:i===1?r.item_1:i>=2&&i<=4?r.item_2:r.item_5}),b=T(()=>o.value.deliveryMethod==="pickup"?0:parseFloat(d.deliveryCost||0)),k=T(()=>parseFloat(d.totalPrice||0)+b.value),D=$=>{const i=parseFloat($||0);return Number.isFinite(i)?i.toFixed(2):"0.00"},I=()=>{U.value=!0,setTimeout(()=>{c("close")},250)},Q=()=>{v.value={},d.clearCart(),o.value={name:"",phoneCode:"+373",phone:"",email:"",deliveryMethod:"pickup",addressType:"apartment",address:"",houseNumber:"",apartmentNumber:"",entrance:"",floor:"",intercom:"",comment:"",payment:"cash"},x.value=!0},J=()=>{x.value=!1,I()},m=$=>{var l;const i=(l=v.value)==null?void 0:l[$];return i?Array.isArray(i)?i[0]:i:null},K=async()=>{v.value={},C.value=!0;const $=d.items.map(l=>{const X=Number(d.unitPrice(l.product)||0),Y=Number(l.product.price||0);return{id:l.product.id,name:l.product.name,quantity:l.quantity,price:X,base_price:Y,has_promotion:!!l.product.has_promotion,promotion_type:l.product.promotion_type||null,gift_product:l.product.gift_product?{name:l.product.gift_product.name,slug:l.product.gift_product.slug,quantity:l.product.gift_product.quantity??1}:null}}),i={customer:{name:o.value.name,phone:o.value.phoneCode+o.value.phone.replace(/\s+/g,""),email:o.value.email},delivery:{method:o.value.deliveryMethod,...o.value.deliveryMethod==="delivery"&&{addressType:o.value.addressType,address:o.value.address,houseNumber:o.value.houseNumber,...o.value.addressType==="apartment"&&{apartmentNumber:o.value.apartmentNumber,entrance:o.value.entrance,floor:o.value.floor,intercom:o.value.intercom}}},payment:o.value.payment,comment:o.value.comment,items:$,total:R(d.totalPrice),deliveryCost:R(b.value),totalWithDelivery:R(k.value),currency:d.currency};L.post(route("order.checkout"),i,{preserveScroll:!0,onSuccess:()=>{Q()},onError:l=>{v.value=l,console.error("ÐžÑˆÐ¸Ð±ÐºÐ¸ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸:",l)},onFinish:()=>{C.value=!1}})},R=$=>{const i=Number(String($??"").replace(",",".").trim());return Number.isFinite(i)?i:0};return($,i)=>(n(),u(P,null,[q(H,{"is-visible":a.isOpen,"z-index":9999,onClose:I},{default:j(()=>[a.isOpen?(n(),u("div",{key:0,class:"fixed inset-0 flex items-center justify-center p-2 sm:p-4",onClick:I},[e("div",{onClick:i[17]||(i[17]=z(()=>{},["stop"])),class:y(["bg-sushi-dark border border-sushi-gold rounded-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto modal-content",U.value?"closing":""])},[e("div",Ze,[e("h2",et,t(s(r).checkout_title),1),e("button",{onClick:I,class:"text-sushi-silver/60 hover:text-sushi-gold transition-colors p-1"},i[18]||(i[18]=[e("svg",{class:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",tt,[e("div",st,[e("div",ot,[e("span",rt,t(s(r).checkout_total_label),1),e("span",lt,t(D(k.value))+" "+t(s(d).currency),1)]),e("div",it,[e("div",nt,[e("span",null,t(s(r).cart_summary_products),1),e("span",at,t(D(s(d).totalPrice))+" "+t(s(d).currency),1)]),e("div",dt,[e("span",null,t(s(r).cart_summary_delivery),1),e("span",ut,t(D(b.value))+" "+t(s(d).currency),1)])]),e("p",ct,t(s(d).totalItems)+" "+t(h.value),1)]),m("items")?(n(),u("div",mt,[e("p",ht,t(m("items")),1)])):_("",!0),e("form",{onSubmit:z(K,["prevent"]),class:"space-y-4"},[e("div",pt,[e("div",null,[e("label",vt,[w(t(s(r).checkout_name_label)+" ",1),e("span",xt,t(s(r).checkout_required),1)]),f(e("input",{"onUpdate:modelValue":i[0]||(i[0]=l=>o.value.name=l),type:"text",required:"",class:y(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",m("customer.name")?"border-red-400":"border-sushi-dark"]),placeholder:s(r).checkout_name_placeholder},null,10,_t),[[S,o.value.name]]),m("customer.name")?(n(),u("p",bt,t(m("customer.name")),1)):_("",!0)]),e("div",null,[e("label",yt,[w(t(s(r).checkout_phone_label)+" ",1),e("span",ft,t(s(r).checkout_required),1)]),e("div",gt,[e("div",kt,[f(e("select",{"onUpdate:modelValue":i[1]||(i[1]=l=>o.value.phoneCode=l),class:"bg-sushi-first border border-sushi-dark rounded-lg px-3 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors w-28 appearance-none"},[(n(),u(P,null,G(V,l=>e("option",{key:l.code,value:l.code},t(l.flag)+" "+t(l.code),9,wt)),64))],512),[[ee,o.value.phoneCode]])]),f(e("input",{"onUpdate:modelValue":i[2]||(i[2]=l=>o.value.phone=l),type:"text",required:"",class:y(["flex-1 bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",m("customer.phone")?"border-red-400":"border-sushi-dark"]),placeholder:s(r).checkout_phone_placeholder},null,10,$t),[[S,o.value.phone]])]),m("customer.phone")?(n(),u("p",Ct,t(m("customer.phone")),1)):_("",!0)])]),e("div",null,[e("label",qt,[w(t(s(r).checkout_email_label)+" ",1),e("span",Nt,t(s(r).checkout_required),1)]),f(e("input",{"onUpdate:modelValue":i[3]||(i[3]=l=>o.value.email=l),type:"email",required:"",class:y(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",m("customer.email")?"border-red-400":"border-sushi-dark"]),placeholder:s(r).checkout_email_placeholder},null,10,St),[[S,o.value.email]]),m("customer.email")?(n(),u("p",Tt,t(m("customer.email")),1)):_("",!0)]),e("div",null,[e("label",Mt,[w(t(s(r).checkout_delivery_method_label)+" ",1),e("span",Ut,t(s(r).checkout_required),1)]),e("div",Vt,[e("label",{class:y(["flex items-center p-3 bg-sushi-first border rounded-lg cursor-pointer transition-colors",o.value.deliveryMethod==="pickup"?"border-sushi-gold bg-sushi-gold/10":"border-sushi-dark hover:border-sushi-gold/50"])},[f(e("input",{"onUpdate:modelValue":i[4]||(i[4]=l=>o.value.deliveryMethod=l),type:"radio",value:"pickup",class:"mr-3 flex-shrink-0",required:""},null,512),[[F,o.value.deliveryMethod]]),e("span",Dt,t(s(r).checkout_pickup),1)],2),e("label",{class:y(["flex items-center p-3 bg-sushi-first border rounded-lg cursor-pointer transition-colors",o.value.deliveryMethod==="delivery"?"border-sushi-gold bg-sushi-gold/10":"border-sushi-dark hover:border-sushi-gold/50"])},[f(e("input",{"onUpdate:modelValue":i[5]||(i[5]=l=>o.value.deliveryMethod=l),type:"radio",value:"delivery",class:"mr-3 flex-shrink-0",required:""},null,512),[[F,o.value.deliveryMethod]]),e("span",Ft,t(s(r).checkout_delivery),1)],2)]),m("delivery.method")?(n(),u("p",jt,t(m("delivery.method")),1)):_("",!0)]),o.value.deliveryMethod==="pickup"?(n(),u("div",Pt,[e("p",It,t(s(r).checkout_pickup_address_label),1),e("p",Bt,t(s(r).checkout_pickup_address),1),e("p",Ot,t(s(r).checkout_pickup_hours),1)])):_("",!0),o.value.deliveryMethod==="delivery"?(n(),u("div",zt,[e("div",null,[e("label",Wt,[w(t(s(r).checkout_address_type_label)+" ",1),e("span",Rt,t(s(r).checkout_required),1)]),e("div",At,[e("label",{class:y(["flex items-center p-3 bg-sushi-first border rounded-lg cursor-pointer transition-colors",o.value.addressType==="house"?"border-sushi-gold bg-sushi-gold/10":"border-sushi-dark hover:border-sushi-gold/50"])},[f(e("input",{"onUpdate:modelValue":i[6]||(i[6]=l=>o.value.addressType=l),type:"radio",value:"house",class:"mr-3 flex-shrink-0"},null,512),[[F,o.value.addressType]]),e("span",Et,t(s(r).checkout_house),1)],2),e("label",{class:y(["flex items-center p-3 bg-sushi-first border rounded-lg cursor-pointer transition-colors",o.value.addressType==="apartment"?"border-sushi-gold bg-sushi-gold/10":"border-sushi-dark hover:border-sushi-gold/50"])},[f(e("input",{"onUpdate:modelValue":i[7]||(i[7]=l=>o.value.addressType=l),type:"radio",value:"apartment",class:"mr-3 flex-shrink-0"},null,512),[[F,o.value.addressType]]),e("span",Gt,t(s(r).checkout_apartment),1)],2)]),m("delivery.addressType")?(n(),u("p",Lt,t(m("delivery.addressType")),1)):_("",!0)]),e("div",Ht,[e("div",Qt,[e("label",Jt,[w(t(s(r).checkout_street_label)+" ",1),e("span",Kt,t(s(r).checkout_required),1)]),f(e("input",{"onUpdate:modelValue":i[8]||(i[8]=l=>o.value.address=l),type:"text",required:o.value.deliveryMethod==="delivery",class:y(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",m("delivery.address")?"border-red-400":"border-sushi-dark"]),placeholder:s(r).checkout_street_placeholder},null,10,Xt),[[S,o.value.address]]),m("delivery.address")?(n(),u("p",Yt,t(m("delivery.address")),1)):_("",!0)]),e("div",null,[e("label",Zt,[w(t(s(r).checkout_house_number_label)+" ",1),e("span",es,t(s(r).checkout_required),1)]),f(e("input",{"onUpdate:modelValue":i[9]||(i[9]=l=>o.value.houseNumber=l),type:"text",required:o.value.deliveryMethod==="delivery",class:y(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",m("delivery.houseNumber")?"border-red-400":"border-sushi-dark"]),placeholder:s(r).checkout_house_number_placeholder},null,10,ts),[[S,o.value.houseNumber]]),m("delivery.houseNumber")?(n(),u("p",ss,t(m("delivery.houseNumber")),1)):_("",!0)])]),o.value.addressType==="apartment"?(n(),u("div",os,[e("div",rs,[e("div",null,[e("label",ls,[w(t(s(r).checkout_apartment_number_label)+" ",1),e("span",is,t(s(r).checkout_required),1)]),f(e("input",{"onUpdate:modelValue":i[10]||(i[10]=l=>o.value.apartmentNumber=l),type:"text",required:o.value.deliveryMethod==="delivery"&&o.value.addressType==="apartment",class:y(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",m("delivery.apartmentNumber")?"border-red-400":"border-sushi-dark"]),placeholder:s(r).checkout_apartment_number_placeholder},null,10,ns),[[S,o.value.apartmentNumber]]),m("delivery.apartmentNumber")?(n(),u("p",as,t(m("delivery.apartmentNumber")),1)):_("",!0)]),e("div",null,[e("label",ds,[w(t(s(r).checkout_entrance_label)+" ",1),e("span",us,t(s(r).checkout_required),1)]),f(e("input",{"onUpdate:modelValue":i[11]||(i[11]=l=>o.value.entrance=l),type:"text",required:o.value.deliveryMethod==="delivery"&&o.value.addressType==="apartment",class:y(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",m("delivery.entrance")?"border-red-400":"border-sushi-dark"]),placeholder:s(r).checkout_entrance_placeholder},null,10,cs),[[S,o.value.entrance]]),m("delivery.entrance")?(n(),u("p",ms,t(m("delivery.entrance")),1)):(n(),u("p",hs,t(s(r).checkout_entrance_hint),1))])]),e("div",ps,[e("div",null,[e("label",vs,t(s(r).checkout_floor_label),1),f(e("input",{"onUpdate:modelValue":i[12]||(i[12]=l=>o.value.floor=l),type:"text",class:y(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",m("delivery.floor")?"border-red-400":"border-sushi-dark"]),placeholder:s(r).checkout_floor_placeholder},null,10,xs),[[S,o.value.floor]]),m("delivery.floor")?(n(),u("p",_s,t(m("delivery.floor")),1)):_("",!0)]),e("div",null,[e("label",bs,t(s(r).checkout_intercom_label),1),f(e("input",{"onUpdate:modelValue":i[13]||(i[13]=l=>o.value.intercom=l),type:"text",class:y(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",m("delivery.intercom")?"border-red-400":"border-sushi-dark"]),placeholder:s(r).checkout_intercom_placeholder},null,10,ys),[[S,o.value.intercom]]),m("delivery.intercom")?(n(),u("p",fs,t(m("delivery.intercom")),1)):(n(),u("p",gs,t(s(r).checkout_intercom_hint),1))])])])):_("",!0)])):_("",!0),e("div",null,[e("label",ks,[w(t(s(r).checkout_payment_label)+" ",1),e("span",ws,t(s(r).checkout_required),1)]),e("div",$s,[e("label",{class:y(["flex items-center p-3 bg-sushi-first border rounded-lg cursor-pointer transition-colors",o.value.payment==="cash"?"border-sushi-gold bg-sushi-gold/10":"border-sushi-dark hover:border-sushi-gold/50"])},[f(e("input",{"onUpdate:modelValue":i[14]||(i[14]=l=>o.value.payment=l),type:"radio",value:"cash",class:"mr-3 flex-shrink-0",required:""},null,512),[[F,o.value.payment]]),e("span",Cs,t(s(r).checkout_cash),1)],2),e("label",{class:y(["flex items-center p-3 bg-sushi-first border rounded-lg cursor-pointer transition-colors",o.value.payment==="card"?"border-sushi-gold bg-sushi-gold/10":"border-sushi-dark hover:border-sushi-gold/50"])},[f(e("input",{"onUpdate:modelValue":i[15]||(i[15]=l=>o.value.payment=l),type:"radio",value:"card",class:"mr-3 flex-shrink-0",required:""},null,512),[[F,o.value.payment]]),e("span",qs,t(s(r).checkout_card),1)],2)]),m("payment")?(n(),u("p",Ns,t(m("payment")),1)):_("",!0)]),e("div",null,[e("label",Ss,t(s(r).checkout_comment_label),1),f(e("textarea",{"onUpdate:modelValue":i[16]||(i[16]=l=>o.value.comment=l),rows:"3",class:y(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors resize-none",m("comment")?"border-red-400":"border-sushi-dark"]),placeholder:s(r).checkout_comment_placeholder},null,10,Ts),[[S,o.value.comment]]),m("comment")?(n(),u("p",Ms,t(m("comment")),1)):_("",!0)]),e("div",Us,[e("button",{type:"submit",disabled:C.value,class:"w-full sm:flex-1 bg-sushi-gold hover:bg-sushi-gold_op text-sushi-dark py-3 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base"},t(C.value?s(r).checkout_submitting:s(r).checkout_submit),9,Vs),e("button",{type:"button",onClick:I,class:"w-full sm:flex-1 bg-sushi-first hover:bg-sushi-first/80 text-sushi-silver border border-sushi-dark py-3 rounded-lg font-medium transition-colors text-sm sm:text-base"},t(s(r).checkout_cancel),1)])],32)])],2)])):_("",!0)]),_:1},8,["is-visible"]),q(Ye,{"is-open":x.value,title:s(r).checkout_success_title,message:s(r).checkout_success_message,"button-text":s(r).checkout_success_close,onClose:J},null,8,["is-open","title","message","button-text"])],64))}},Fs=E(Ds,[["__scopeId","data-v-ccd0994e"]]),js={class:"relative z-20 min-h-screen"},Ps={class:"container mx-auto px-4 py-8 max-w-6xl"},Is={class:"mb-8"},Bs={class:"text-3xl font-bold text-sushi-silver mb-2"},Os={class:"text-sushi-silver/60"},zs={key:1,class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Ws={class:"lg:col-span-2 space-y-4"},Rs={key:0,class:"fixed bottom-4 left-1/2 -translate-x-1/2 z-50 px-4"},As={class:"bg-sushi-dark/90 border border-sushi-gold/60 text-sushi-silver px-4 py-3 rounded-full shadow-lg flex items-center gap-3"},Es={class:"text-sm"},Hs={__name:"Cart",setup(a){const N=B(),p=N.props.translations.common,c=W();N.props.deliverySettings?c.initDeliverySettings(N.props.deliverySettings):console.warn("âš  deliverySettings Ð½Ðµ Ð¿ÐµÑ€ÐµÐ´Ð°Ð½ Ð² props. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ Ð¸Ð· ÑÑ‚Ð¾Ñ€Ð°.");const g=M(!1),r=M(!1),d=M(null),v=M(null),o=T(()=>{const h=c.totalItems,b=h%10,k=h%100;return k>=11&&k<=19?p.item_5:b===1?p.item_1:b>=2&&b<=4?p.item_2:p.item_5}),V=h=>{const b=c.items.find(k=>k.product.id===h);b&&(c.removeFromCart(h),d.value={product:b.product,quantity:b.quantity},r.value=!0,v.value&&clearTimeout(v.value),v.value=setTimeout(()=>{r.value=!1,d.value=null,v.value=null},5e3))},C=()=>{d.value&&(c.addToCart(d.value.product,d.value.quantity),r.value=!1,d.value=null,v.value&&(clearTimeout(v.value),v.value=null))},U=()=>{r.value=!1,d.value=null,v.value&&(clearTimeout(v.value),v.value=null)},x=()=>{confirm(p.cart_confirm_clear)&&c.clearCart()};return(h,b)=>(n(),u(P,null,[q(s(te),{title:s(p).cart_page_title},null,8,["title"]),q(se,{image:"/images/sushi-pattern.jpg",opacity:.4,speed:.2,"max-height":"100vh"}),q(oe),e("div",js,[e("div",Ps,[e("div",Is,[e("h1",Bs,t(s(p).cart_page_title),1),e("p",Os,t(s(c).totalItems)+" "+t(o.value),1)]),s(c).items.length===0?(n(),A(ne,{key:0,locale:h.$page.props.locale},null,8,["locale"])):(n(),u("div",zs,[e("div",Ws,[(n(!0),u(P,null,G(s(c).items,k=>(n(),A(qe,{key:k.product.id,item:k,locale:h.$page.props.locale,onIncrement:D=>s(c).incrementQuantity(k.product.id),onDecrement:D=>s(c).decrementQuantity(k.product.id),onRemove:D=>V(k.product.id)},null,8,["item","locale","onIncrement","onDecrement","onRemove"]))),128))]),q(Qe,{items:s(c).items,"total-items":s(c).totalItems,"total-price":s(c).totalPrice,currency:s(c).currency,locale:h.$page.props.locale,"delivery-cost":s(c).deliveryCost,"is-free-delivery":s(c).isFreeDelivery,"amount-until-free":s(c).amountUntilFreeDelivery,"total-with-delivery":s(c).totalWithDelivery,onCheckout:b[0]||(b[0]=k=>g.value=!0),onClear:x},null,8,["items","total-items","total-price","currency","locale","delivery-cost","is-free-delivery","amount-until-free","total-with-delivery"])]))])]),r.value?(n(),u("div",Rs,[e("div",As,[e("span",Es,t(s(p).cart_item_removed||"Ð¢Ð¾Ð²Ð°Ñ€ ÑƒÐ´Ð°Ð»Ñ‘Ð½ Ð¸Ð· ÐºÐ¾Ñ€Ð·Ð¸Ð½Ñ‹"),1),e("button",{onClick:C,class:"text-xs font-semibold uppercase tracking-wide underline underline-offset-4"},t(s(p).common_undo||"ÐžÑ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ"),1),e("button",{onClick:U,class:"ml-1 text-sushi-silver/60 text-lg leading-none","aria-label":"Close"},"Ã—")])])):_("",!0),q(Fs,{"is-open":g.value,onClose:b[1]||(b[1]=k=>g.value=!1)},null,8,["is-open"])],64))}};export{Hs as default};
