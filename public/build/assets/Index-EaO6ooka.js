import{s as h,c as a,o as l,a as e,b as u,f as _,k as v,F as y,r as f,t as o,w as p,d as c,e as x,l as m,j as w}from"./app-Bv7qXi90.js";const k={class:"p-6 max-w-7xl mx-auto space-y-6"},C={class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},S={class:"flex flex-col md:flex-row gap-3 md:items-center"},j={class:"flex items-center gap-2"},V=["value"],B={class:"overflow-x-auto"},D={class:"w-full bg-white border border-gray-300 text-sm text-admin-text rounded-lg overflow-hidden"},I={class:"px-4 py-2 border"},N={class:"px-4 py-2 border"},A=["src"],F={class:"px-4 py-2 border"},U={class:"px-4 py-2 border"},E={class:"px-4 py-2 border"},K={class:"px-4 py-2 border whitespace-nowrap space-x-2"},O={__name:"Index",props:{products:{type:Array,default:()=>[]},categories:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({})}},setup(n){var b;const i=h(((b=n.filters)==null?void 0:b.category_id)??""),g=()=>{const r=i.value||null;w.get(route("admin.products.index"),r?{category_id:r}:{},{preserveState:!0,preserveScroll:!0,replace:!0})};return(r,t)=>(l(),a("div",k,[e("div",C,[t[4]||(t[4]=e("h1",{class:"text-xl font-semibold text-admin-text"},"Товары",-1)),e("div",S,[e("div",j,[t[2]||(t[2]=e("span",{class:"text-sm text-admin-text/80"},"Категория:",-1)),_(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>i.value=s),onChange:g,class:"border border-gray-300 rounded-lg px-3 py-1.5 text-sm text-admin-text bg-white focus:outline-none focus:ring-2 focus:ring-admin-primary/60"},[t[1]||(t[1]=e("option",{value:""},"Все",-1)),(l(!0),a(y,null,f(n.categories,s=>{var d;return l(),a("option",{key:s.id,value:s.id},o(((d=s.translation)==null?void 0:d.name)||`Категория #${s.id}`),9,V)}),128))],544),[[v,i.value]])]),u(x(m),{href:r.route("admin.products.create"),class:"bg-admin-primary text-white px-4 py-2 rounded-lg hover:bg-admin-muted transition text-sm"},{default:p(()=>t[3]||(t[3]=[c(" Добавить ",-1)])),_:1,__:[3]},8,["href"])])]),e("div",B,[e("table",D,[t[7]||(t[7]=e("thead",{class:"bg-admin-background text-left"},[e("tr",null,[e("th",{class:"px-4 py-2 border"},"ID"),e("th",{class:"px-4 py-2 border"},"Изображение"),e("th",{class:"px-4 py-2 border"},"Название"),e("th",{class:"px-4 py-2 border"},"SKU"),e("th",{class:"px-4 py-2 border"},"Цена"),e("th",{class:"px-4 py-2 border"},"Действия")])],-1)),e("tbody",null,[(l(!0),a(y,null,f(n.products,s=>{var d;return l(),a("tr",{key:s.id,class:"border-t hover:bg-gray-100"},[e("td",I,o(s.id),1),e("td",N,[e("img",{src:s.main_image_url,class:"w-12 h-12 object-cover border rounded"},null,8,A)]),e("td",F,o(((d=s.translation)==null?void 0:d.name)||"—"),1),e("td",U,o(s.sku),1),e("td",E,o(s.price)+" "+o(s.currency),1),e("td",K,[u(x(m),{href:r.route("admin.products.edit",s.id),class:"inline-block px-2.5 py-1.5 bg-admin-primary text-white rounded-lg hover:bg-admin-muted transition"},{default:p(()=>t[5]||(t[5]=[c(" Редактировать ",-1)])),_:2,__:[5]},1032,["href"]),u(x(m),{as:"button",method:"delete",href:r.route("admin.products.destroy",s.id),class:"inline-block px-2.5 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition"},{default:p(()=>t[6]||(t[6]=[c(" Удалить ",-1)])),_:2,__:[6]},1032,["href"])])])}),128))])])])]))}};export{O as default};
