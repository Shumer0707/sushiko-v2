import{n as F,c as u,o as a,a as e,b as w,t,e as s,w as N,d as g,l as I,q as W,_ as z,F as V,r as R,g as v,s as q,y as O,z as _,h as P,H as A,I as E,i as H,f as y,v as C,k as Q,C as S,j as G,D as J}from"./app-DEUdoXhd.js";import{P as K,a as X}from"./PageGradient-DSctcWZV.js";const Y={class:"text-center py-12 sm:py-16 px-4"},Z={class:"text-xl sm:text-2xl font-bold text-sushi-silver mb-4"},ee={class:"text-sushi-silver/60 mb-6 text-sm sm:text-base"},te={__name:"CartEmpty",props:{locale:{type:String,required:!0}},setup(d){const h=F().props.translations.common;return(c,p)=>(a(),u("div",Y,[p[0]||(p[0]=e("div",{class:"text-5xl sm:text-6xl mb-4"},"ðŸ›’",-1)),e("h2",Z,t(s(h).cart_empty_title),1),e("p",ee,t(s(h).cart_empty_description),1),w(s(I),{href:c.route("home",{locale:d.locale}),class:"inline-block bg-sushi-gold hover:bg-sushi-gold_op text-sushi-dark px-6 py-3 rounded-lg font-medium transition-colors"},{default:N(()=>[g(t(s(h).cart_empty_button),1)]),_:1},8,["href"])]))}},se={class:"bg-sushi-dark/50 border border-sushi-first rounded-lg p-4 hover:border-sushi-gold/50 transition-colors"},oe={class:"flex flex-col lg:flex-row lg:items-center gap-4"},le={class:"flex items-center gap-4 flex-grow"},re={class:"w-20 h-20 sm:w-24 sm:h-24 bg-sushi-first rounded-lg overflow-hidden"},ie=["src","alt"],de={key:1,class:"w-full h-full flex items-center justify-center text-2xl sm:text-3xl"},ae={class:"flex-grow min-w-0"},ne={class:"text-sm text-sushi-silver/60 mt-1"},ue={class:"flex items-center justify-between lg:justify-end gap-3 lg:gap-4"},ce={class:"flex items-center gap-1 sm:gap-2 bg-sushi-first rounded-lg overflow-hidden"},me={class:"px-3 sm:px-4 py-2 text-sushi-silver font-medium min-w-[2.5ch] text-center"},he={class:"text-right min-w-[80px] sm:min-w-[100px]"},pe={class:"font-bold text-sushi-gold text-sm sm:text-base"},ve=["title"],xe={__name:"CartItem",props:{item:{type:Object,required:!0},locale:{type:String,required:!0}},emits:["increment","decrement","remove"],setup(d){const h=F().props.translations.common,c=d,p=W(()=>(c.item.product.price*c.item.quantity).toFixed(2));return(o,m)=>(a(),u("div",se,[e("div",oe,[e("div",le,[w(s(I),{href:o.route("product.show",{locale:d.locale,slug:d.item.product.slug}),class:"flex-shrink-0"},{default:N(()=>[e("div",re,[d.item.product.image_url?(a(),u("img",{key:0,src:d.item.product.image_url,alt:d.item.product.name,class:"w-full h-full object-cover hover:scale-110 transition-transform duration-300"},null,8,ie)):(a(),u("div",de,"ðŸ£"))])]),_:1},8,["href"]),e("div",ae,[w(s(I),{href:o.route("product.show",{locale:d.locale,slug:d.item.product.slug}),class:"font-semibold text-sushi-silver hover:text-sushi-gold transition-colors block truncate"},{default:N(()=>[g(t(d.item.product.name),1)]),_:1},8,["href"]),e("p",ne,t(d.item.product.price)+" "+t(d.item.product.currency),1)])]),e("div",ue,[e("div",ce,[e("button",{onClick:m[0]||(m[0]=x=>o.$emit("decrement")),class:"px-2 sm:px-3 py-2 bg-sushi-dark hover:bg-sushi-red/40 text-sushi-gold font-bold transition-colors text-lg"}," âˆ’ "),e("span",me,t(d.item.quantity),1),e("button",{onClick:m[1]||(m[1]=x=>o.$emit("increment")),class:"px-2 sm:px-3 py-2 bg-sushi-dark hover:bg-sushi-red/40 text-sushi-gold font-bold transition-colors text-lg"}," + ")]),e("div",he,[e("p",pe,t(p.value)+" "+t(d.item.product.currency),1)]),e("button",{onClick:m[2]||(m[2]=x=>o.$emit("remove")),class:"text-red-400 hover:text-red-300 p-2 transition-colors flex-shrink-0",title:s(h).cart_item_remove},m[3]||(m[3]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,ve)])])]))}},be={class:"lg:col-span-1"},_e={class:"bg-sushi-dark/50 border border-sushi-first rounded-lg p-4 sm:p-6 lg:sticky lg:top-24"},ye={class:"text-xl font-bold text-sushi-silver mb-4"},fe={class:"space-y-2 mb-4 max-h-[200px] overflow-y-auto custom-scrollbar"},ge={class:"flex-grow min-w-0 pr-2"},ke={class:"truncate block"},we={class:"text-xs text-sushi-silver/60"},$e={class:"font-medium text-sushi-gold flex-shrink-0"},Ce={class:"space-y-3 mb-6"},qe={class:"flex justify-between text-sushi-silver/80 text-sm sm:text-base"},Te={class:"flex justify-between text-sushi-silver/80 text-sm sm:text-base"},Me={key:0,class:"text-sushi-gold font-medium"},Se={key:1,class:"text-sushi-silver"},Ne={key:0,class:"text-xs text-sushi-gold/80 bg-sushi-first/20 rounded p-2"},Ue={class:"border-t border-sushi-first pt-3"},De={class:"flex justify-between items-center"},Ve={class:"text-base sm:text-lg font-semibold text-sushi-silver"},Fe={class:"text-xl sm:text-2xl font-bold text-sushi-gold"},je={__name:"CartSummary",props:{items:{type:Array,required:!0},totalItems:{type:Number,required:!0},totalPrice:{type:[Number,String],required:!0},currency:{type:String,required:!0},locale:{type:String,required:!0},deliveryCost:{type:Number,required:!0},isFreeDelivery:{type:Boolean,required:!0},amountUntilFree:{type:[Number,String],required:!0},totalWithDelivery:{type:[Number,String],required:!0}},emits:["checkout","clear"],setup(d){const h=F().props.translations.common;return(c,p)=>(a(),u("div",be,[e("div",_e,[e("h3",ye,t(s(h).cart_summary_title),1),e("div",fe,[(a(!0),u(V,null,R(d.items,o=>(a(),u("div",{key:o.product.id,class:"flex justify-between items-center text-sm text-sushi-silver/80 py-2 border-b border-sushi-first/30"},[e("div",ge,[e("span",ke,t(o.product.name),1),e("span",we,t(o.quantity)+" Ã— "+t(o.product.price)+" "+t(d.currency),1)]),e("span",$e,t((o.product.price*o.quantity).toFixed(2))+" "+t(d.currency),1)]))),128))]),p[2]||(p[2]=e("div",{class:"border-t border-sushi-first my-4"},null,-1)),e("div",Ce,[e("div",qe,[e("span",null,t(s(h).cart_summary_products)+" ("+t(d.totalItems)+")",1),e("span",null,t(d.totalPrice)+" "+t(d.currency),1)]),e("div",Te,[e("span",null,t(s(h).cart_summary_delivery),1),d.isFreeDelivery?(a(),u("span",Me,t(s(h).cart_summary_free_delivery),1)):(a(),u("span",Se,t(d.deliveryCost)+" "+t(d.currency),1))]),!d.isFreeDelivery&&d.amountUntilFree>0?(a(),u("div",Ne," ðŸ’¡ "+t(s(h).cart_summary_until_free)+" "+t(d.amountUntilFree)+" "+t(d.currency)+" "+t(s(h).cart_summary_until_free_text),1)):v("",!0),e("div",Ue,[e("div",De,[e("span",Ve,t(s(h).cart_summary_total),1),e("span",Fe,t(d.totalWithDelivery)+" "+t(d.currency),1)])])]),e("button",{onClick:p[0]||(p[0]=o=>c.$emit("checkout")),class:"block w-full bg-sushi-gold hover:bg-sushi-gold_op text-sushi-dark py-3 rounded-lg font-medium text-center transition-colors mb-3"},t(s(h).cart_summary_checkout),1),w(s(I),{href:c.route("home",{locale:d.locale}),class:"block w-full bg-sushi-first hover:bg-sushi-first/80 text-sushi-silver border border-sushi-dark py-3 rounded-lg font-medium text-center transition-colors"},{default:N(()=>[g(t(s(h).cart_summary_continue),1)]),_:1},8,["href"]),e("button",{onClick:p[1]||(p[1]=o=>c.$emit("clear")),class:"w-full mt-4 text-red-400 hover:text-red-300 text-sm underline transition-colors"},t(s(h).cart_summary_clear),1)])]))}},Ie=z(je,[["__scopeId","data-v-27df23f9"]]),Be={class:"text-2xl font-bold text-sushi-silver mb-2"},Oe={class:"text-sushi-silver/80 text-sm"},Pe={__name:"SuccessModal",props:{isOpen:Boolean,title:{type:String,default:"Ð—Ð°ÐºÐ°Ð· Ð¿Ñ€Ð¸Ð½ÑÑ‚"},message:{type:String,default:"Ð’Ð°Ñˆ Ð·Ð°ÐºÐ°Ð· ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð¾Ñ„Ð¾Ñ€Ð¼Ð»ÐµÐ½. ÐžÐ¶Ð¸Ð´Ð°Ð¹Ñ‚Ðµ Ð·Ð²Ð¾Ð½ÐºÐ° Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð°."},buttonText:{type:String,default:"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ"}},emits:["close"],setup(d,{emit:$}){const h=$,c=q(!1),p=()=>{c.value=!0,setTimeout(()=>h("close"),250)};return(o,m)=>(a(),O(A,{"is-visible":d.isOpen,"z-index":9999,onClose:p},{default:N(()=>[d.isOpen?(a(),u("div",{key:0,class:"fixed inset-0 flex items-center justify-center p-4",onClick:p},[e("div",{onClick:m[0]||(m[0]=P(()=>{},["stop"])),class:_(["bg-sushi-dark border border-sushi-gold rounded-xl w-full max-w-md p-6 text-center modal-content",c.value?"closing":""])},[m[1]||(m[1]=e("div",{class:"text-sushi-gold text-5xl mb-4"},"âœ”ï¸",-1)),e("h2",Be,t(d.title),1),e("p",Oe,t(d.message),1),e("button",{onClick:p,class:"mt-6 w-full bg-sushi-gold hover:bg-sushi-gold_op text-sushi-dark py-3 rounded-lg font-medium transition-colors"},t(d.buttonText),1)],2)])):v("",!0)]),_:1},8,["is-visible"]))}},We=z(Pe,[["__scopeId","data-v-88273270"]]),ze={class:"flex items-center justify-between p-4 sm:p-6 border-b border-sushi-first"},Re={class:"text-lg sm:text-2xl font-bold text-sushi-silver"},Ae={class:"p-4 sm:p-6"},Ee={class:"bg-sushi-first/30 border border-sushi-gold/30 rounded-lg p-3 sm:p-4 mb-6"},Le={class:"flex justify-between items-center flex-wrap gap-2"},He={class:"text-sushi-silver/80 text-sm sm:text-base"},Qe={class:"text-xl sm:text-2xl font-bold text-sushi-gold"},Ge={class:"text-xs sm:text-sm text-sushi-silver/60 mt-2"},Je={key:0,class:"bg-red-500/10 border border-red-400 rounded-lg p-4 mb-6"},Ke={class:"text-red-400 font-medium"},Xe={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Ye={class:"block text-sm font-medium text-sushi-silver mb-2"},Ze={class:"text-red-400"},et=["placeholder"],tt={key:0,class:"text-red-400 text-xs mt-1"},st={class:"block text-sm font-medium text-sushi-silver mb-2"},ot={class:"text-red-400"},lt={class:"flex gap-2"},rt={class:"relative"},it=["value"],dt=["placeholder"],at={key:0,class:"text-red-400 text-xs mt-1"},nt={class:"block text-sm font-medium text-sushi-silver mb-2"},ut={class:"text-red-400"},ct=["placeholder"],mt={key:0,class:"text-red-400 text-xs mt-1"},ht={class:"block text-sm font-medium text-sushi-silver mb-3"},pt={class:"text-red-400"},vt={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},xt={class:"text-sushi-silver text-sm sm:text-base"},bt={class:"text-sushi-silver text-sm sm:text-base"},_t={key:0,class:"text-red-400 text-xs mt-1"},yt={key:0,class:"bg-sushi-first/30 border border-sushi-gold/30 rounded-lg p-4"},ft={class:"text-sushi-silver font-medium mb-2"},gt={class:"text-sushi-silver/80 text-sm mb-1"},kt={class:"text-sushi-silver/60 text-xs"},wt={key:1,class:"space-y-4 bg-sushi-first/10 border border-sushi-first rounded-lg p-4"},$t={class:"block text-sm font-medium text-sushi-silver mb-3"},Ct={class:"text-red-400"},qt={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},Tt={class:"text-sushi-silver text-sm sm:text-base"},Mt={class:"text-sushi-silver text-sm sm:text-base"},St={key:0,class:"text-red-400 text-xs mt-1"},Nt={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},Ut={class:"sm:col-span-2"},Dt={class:"block text-sm font-medium text-sushi-silver mb-2"},Vt={class:"text-red-400"},Ft=["required","placeholder"],jt={key:0,class:"text-red-400 text-xs mt-1"},It={class:"block text-sm font-medium text-sushi-silver mb-2"},Bt={class:"text-red-400"},Ot=["required","placeholder"],Pt={key:0,class:"text-red-400 text-xs mt-1"},Wt={key:0,class:"space-y-4"},zt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Rt={class:"block text-sm font-medium text-sushi-silver mb-2"},At={class:"text-red-400"},Et=["required","placeholder"],Lt={key:0,class:"text-red-400 text-xs mt-1"},Ht={class:"block text-sm font-medium text-sushi-silver mb-2"},Qt={class:"text-red-400"},Gt=["required","placeholder"],Jt={key:0,class:"text-red-400 text-xs mt-1"},Kt={key:1,class:"text-xs text-sushi-silver/50 mt-1"},Xt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Yt={class:"block text-sm font-medium text-sushi-silver mb-2"},Zt=["placeholder"],es={key:0,class:"text-red-400 text-xs mt-1"},ts={class:"block text-sm font-medium text-sushi-silver mb-2"},ss=["placeholder"],os={key:0,class:"text-red-400 text-xs mt-1"},ls={key:1,class:"text-xs text-sushi-silver/50 mt-1"},rs={class:"block text-sm font-medium text-sushi-silver mb-3"},is={class:"text-red-400"},ds={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},as={class:"text-sushi-silver text-sm sm:text-base"},ns={class:"text-sushi-silver text-sm sm:text-base"},us={key:0,class:"text-red-400 text-xs mt-1"},cs={class:"block text-sm font-medium text-sushi-silver mb-2"},ms=["placeholder"],hs={key:0,class:"text-red-400 text-xs mt-1"},ps={class:"flex flex-col sm:flex-row gap-3 pt-4"},vs=["disabled"],xs={__name:"CheckoutModal",props:{isOpen:{type:Boolean,required:!0}},emits:["close"],setup(d,{emit:$}){const h=d,c=$,o=F().props.translations.common,m=E(),x=q({}),l=q({name:"",phone:"",phoneCode:"+373",email:"",deliveryMethod:"pickup",addressType:"apartment",address:"",houseNumber:"",apartmentNumber:"",entrance:"",floor:"",intercom:"",comment:"",payment:"cash"}),B=[{code:"+373",label:"MD",flag:"ðŸ‡²ðŸ‡©"},{code:"+40",label:"RO",flag:"ðŸ‡·ðŸ‡´"},{code:"+380",label:"UA",flag:"ðŸ‡ºðŸ‡¦"}],M=q(!1),U=q(!1),D=q(!1);H(()=>h.isOpen,T=>{T?(document.body.style.overflow="hidden",U.value=!1):document.body.style.overflow=""});const k=W(()=>{const T=m.totalItems,i=T%10,r=T%100;return r>=11&&r<=19?o.item_5:i===1?o.item_1:i>=2&&i<=4?o.item_2:o.item_5}),b=()=>{U.value=!0,setTimeout(()=>{c("close")},250)},f=()=>{x.value={},m.clearCart(),l.value={name:"",phoneCode:"+373",phone:"",email:"",deliveryMethod:"pickup",addressType:"apartment",address:"",houseNumber:"",apartmentNumber:"",entrance:"",floor:"",intercom:"",comment:"",payment:"cash"},D.value=!0},j=()=>{D.value=!1,b()},n=T=>{var r;const i=(r=x.value)==null?void 0:r[T];return i?Array.isArray(i)?i[0]:i:null},L=async()=>{x.value={},M.value=!0;const T=m.items.map(r=>({id:r.product.id,name:r.product.name,price:parseFloat(r.product.price),quantity:r.quantity})),i={customer:{name:l.value.name,phone:l.value.phoneCode+l.value.phone.replace(/\s+/g,""),email:l.value.email},delivery:{method:l.value.deliveryMethod,...l.value.deliveryMethod==="delivery"&&{addressType:l.value.addressType,address:l.value.address,houseNumber:l.value.houseNumber,...l.value.addressType==="apartment"&&{apartmentNumber:l.value.apartmentNumber,entrance:l.value.entrance,floor:l.value.floor,intercom:l.value.intercom}}},payment:l.value.payment,comment:l.value.comment,items:T,total:parseFloat(m.totalPrice),deliveryCost:parseFloat(m.deliveryCost),totalWithDelivery:parseFloat(m.totalWithDelivery),currency:m.currency};G.post(route("order.checkout"),i,{preserveScroll:!0,onSuccess:()=>{f()},onError:r=>{x.value=r,console.error("ÐžÑˆÐ¸Ð±ÐºÐ¸ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸:",r)},onFinish:()=>{M.value=!1}})};return(T,i)=>(a(),u(V,null,[w(A,{"is-visible":d.isOpen,"z-index":9999,onClose:b},{default:N(()=>[d.isOpen?(a(),u("div",{key:0,class:"fixed inset-0 flex items-center justify-center p-2 sm:p-4",onClick:b},[e("div",{onClick:i[17]||(i[17]=P(()=>{},["stop"])),class:_(["bg-sushi-dark border border-sushi-gold rounded-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto modal-content",U.value?"closing":""])},[e("div",ze,[e("h2",Re,t(s(o).checkout_title),1),e("button",{onClick:b,class:"text-sushi-silver/60 hover:text-sushi-gold transition-colors p-1"},i[18]||(i[18]=[e("svg",{class:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",Ae,[e("div",Ee,[e("div",Le,[e("span",He,t(s(o).checkout_total_label),1),e("span",Qe,t(s(m).totalWithDelivery)+" "+t(s(m).currency),1)]),e("p",Ge,t(s(m).totalItems)+" "+t(k.value),1)]),n("items")?(a(),u("div",Je,[e("p",Ke,t(n("items")),1)])):v("",!0),e("form",{onSubmit:P(L,["prevent"]),class:"space-y-4"},[e("div",Xe,[e("div",null,[e("label",Ye,[g(t(s(o).checkout_name_label)+" ",1),e("span",Ze,t(s(o).checkout_required),1)]),y(e("input",{"onUpdate:modelValue":i[0]||(i[0]=r=>l.value.name=r),type:"text",required:"",class:_(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",n("customer.name")?"border-red-400":"border-sushi-dark"]),placeholder:s(o).checkout_name_placeholder},null,10,et),[[C,l.value.name]]),n("customer.name")?(a(),u("p",tt,t(n("customer.name")),1)):v("",!0)]),e("div",null,[e("label",st,[g(t(s(o).checkout_phone_label)+" ",1),e("span",ot,t(s(o).checkout_required),1)]),e("div",lt,[e("div",rt,[y(e("select",{"onUpdate:modelValue":i[1]||(i[1]=r=>l.value.phoneCode=r),class:"bg-sushi-first border border-sushi-dark rounded-lg px-3 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors w-28 appearance-none"},[(a(),u(V,null,R(B,r=>e("option",{key:r.code,value:r.code},t(r.flag)+" "+t(r.code),9,it)),64))],512),[[Q,l.value.phoneCode]])]),y(e("input",{"onUpdate:modelValue":i[2]||(i[2]=r=>l.value.phone=r),type:"text",required:"",class:_(["flex-1 bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",n("customer.phone")?"border-red-400":"border-sushi-dark"]),placeholder:s(o).checkout_phone_placeholder},null,10,dt),[[C,l.value.phone]])]),n("customer.phone")?(a(),u("p",at,t(n("customer.phone")),1)):v("",!0)])]),e("div",null,[e("label",nt,[g(t(s(o).checkout_email_label)+" ",1),e("span",ut,t(s(o).checkout_required),1)]),y(e("input",{"onUpdate:modelValue":i[3]||(i[3]=r=>l.value.email=r),type:"email",required:"",class:_(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",n("customer.email")?"border-red-400":"border-sushi-dark"]),placeholder:s(o).checkout_email_placeholder},null,10,ct),[[C,l.value.email]]),n("customer.email")?(a(),u("p",mt,t(n("customer.email")),1)):v("",!0)]),e("div",null,[e("label",ht,[g(t(s(o).checkout_delivery_method_label)+" ",1),e("span",pt,t(s(o).checkout_required),1)]),e("div",vt,[e("label",{class:_(["flex items-center p-3 bg-sushi-first border rounded-lg cursor-pointer transition-colors",l.value.deliveryMethod==="pickup"?"border-sushi-gold bg-sushi-gold/10":"border-sushi-dark hover:border-sushi-gold/50"])},[y(e("input",{"onUpdate:modelValue":i[4]||(i[4]=r=>l.value.deliveryMethod=r),type:"radio",value:"pickup",class:"mr-3 flex-shrink-0",required:""},null,512),[[S,l.value.deliveryMethod]]),e("span",xt,t(s(o).checkout_pickup),1)],2),e("label",{class:_(["flex items-center p-3 bg-sushi-first border rounded-lg cursor-pointer transition-colors",l.value.deliveryMethod==="delivery"?"border-sushi-gold bg-sushi-gold/10":"border-sushi-dark hover:border-sushi-gold/50"])},[y(e("input",{"onUpdate:modelValue":i[5]||(i[5]=r=>l.value.deliveryMethod=r),type:"radio",value:"delivery",class:"mr-3 flex-shrink-0",required:""},null,512),[[S,l.value.deliveryMethod]]),e("span",bt,t(s(o).checkout_delivery),1)],2)]),n("delivery.method")?(a(),u("p",_t,t(n("delivery.method")),1)):v("",!0)]),l.value.deliveryMethod==="pickup"?(a(),u("div",yt,[e("p",ft,t(s(o).checkout_pickup_address_label),1),e("p",gt,t(s(o).checkout_pickup_address),1),e("p",kt,t(s(o).checkout_pickup_hours),1)])):v("",!0),l.value.deliveryMethod==="delivery"?(a(),u("div",wt,[e("div",null,[e("label",$t,[g(t(s(o).checkout_address_type_label)+" ",1),e("span",Ct,t(s(o).checkout_required),1)]),e("div",qt,[e("label",{class:_(["flex items-center p-3 bg-sushi-first border rounded-lg cursor-pointer transition-colors",l.value.addressType==="house"?"border-sushi-gold bg-sushi-gold/10":"border-sushi-dark hover:border-sushi-gold/50"])},[y(e("input",{"onUpdate:modelValue":i[6]||(i[6]=r=>l.value.addressType=r),type:"radio",value:"house",class:"mr-3 flex-shrink-0"},null,512),[[S,l.value.addressType]]),e("span",Tt,t(s(o).checkout_house),1)],2),e("label",{class:_(["flex items-center p-3 bg-sushi-first border rounded-lg cursor-pointer transition-colors",l.value.addressType==="apartment"?"border-sushi-gold bg-sushi-gold/10":"border-sushi-dark hover:border-sushi-gold/50"])},[y(e("input",{"onUpdate:modelValue":i[7]||(i[7]=r=>l.value.addressType=r),type:"radio",value:"apartment",class:"mr-3 flex-shrink-0"},null,512),[[S,l.value.addressType]]),e("span",Mt,t(s(o).checkout_apartment),1)],2)]),n("delivery.addressType")?(a(),u("p",St,t(n("delivery.addressType")),1)):v("",!0)]),e("div",Nt,[e("div",Ut,[e("label",Dt,[g(t(s(o).checkout_street_label)+" ",1),e("span",Vt,t(s(o).checkout_required),1)]),y(e("input",{"onUpdate:modelValue":i[8]||(i[8]=r=>l.value.address=r),type:"text",required:l.value.deliveryMethod==="delivery",class:_(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",n("delivery.address")?"border-red-400":"border-sushi-dark"]),placeholder:s(o).checkout_street_placeholder},null,10,Ft),[[C,l.value.address]]),n("delivery.address")?(a(),u("p",jt,t(n("delivery.address")),1)):v("",!0)]),e("div",null,[e("label",It,[g(t(s(o).checkout_house_number_label)+" ",1),e("span",Bt,t(s(o).checkout_required),1)]),y(e("input",{"onUpdate:modelValue":i[9]||(i[9]=r=>l.value.houseNumber=r),type:"text",required:l.value.deliveryMethod==="delivery",class:_(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",n("delivery.houseNumber")?"border-red-400":"border-sushi-dark"]),placeholder:s(o).checkout_house_number_placeholder},null,10,Ot),[[C,l.value.houseNumber]]),n("delivery.houseNumber")?(a(),u("p",Pt,t(n("delivery.houseNumber")),1)):v("",!0)])]),l.value.addressType==="apartment"?(a(),u("div",Wt,[e("div",zt,[e("div",null,[e("label",Rt,[g(t(s(o).checkout_apartment_number_label)+" ",1),e("span",At,t(s(o).checkout_required),1)]),y(e("input",{"onUpdate:modelValue":i[10]||(i[10]=r=>l.value.apartmentNumber=r),type:"text",required:l.value.deliveryMethod==="delivery"&&l.value.addressType==="apartment",class:_(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",n("delivery.apartmentNumber")?"border-red-400":"border-sushi-dark"]),placeholder:s(o).checkout_apartment_number_placeholder},null,10,Et),[[C,l.value.apartmentNumber]]),n("delivery.apartmentNumber")?(a(),u("p",Lt,t(n("delivery.apartmentNumber")),1)):v("",!0)]),e("div",null,[e("label",Ht,[g(t(s(o).checkout_entrance_label)+" ",1),e("span",Qt,t(s(o).checkout_required),1)]),y(e("input",{"onUpdate:modelValue":i[11]||(i[11]=r=>l.value.entrance=r),type:"text",required:l.value.deliveryMethod==="delivery"&&l.value.addressType==="apartment",class:_(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",n("delivery.entrance")?"border-red-400":"border-sushi-dark"]),placeholder:s(o).checkout_entrance_placeholder},null,10,Gt),[[C,l.value.entrance]]),n("delivery.entrance")?(a(),u("p",Jt,t(n("delivery.entrance")),1)):(a(),u("p",Kt,t(s(o).checkout_entrance_hint),1))])]),e("div",Xt,[e("div",null,[e("label",Yt,t(s(o).checkout_floor_label),1),y(e("input",{"onUpdate:modelValue":i[12]||(i[12]=r=>l.value.floor=r),type:"text",class:_(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",n("delivery.floor")?"border-red-400":"border-sushi-dark"]),placeholder:s(o).checkout_floor_placeholder},null,10,Zt),[[C,l.value.floor]]),n("delivery.floor")?(a(),u("p",es,t(n("delivery.floor")),1)):v("",!0)]),e("div",null,[e("label",ts,t(s(o).checkout_intercom_label),1),y(e("input",{"onUpdate:modelValue":i[13]||(i[13]=r=>l.value.intercom=r),type:"text",class:_(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",n("delivery.intercom")?"border-red-400":"border-sushi-dark"]),placeholder:s(o).checkout_intercom_placeholder},null,10,ss),[[C,l.value.intercom]]),n("delivery.intercom")?(a(),u("p",os,t(n("delivery.intercom")),1)):(a(),u("p",ls,t(s(o).checkout_intercom_hint),1))])])])):v("",!0)])):v("",!0),e("div",null,[e("label",rs,[g(t(s(o).checkout_payment_label)+" ",1),e("span",is,t(s(o).checkout_required),1)]),e("div",ds,[e("label",{class:_(["flex items-center p-3 bg-sushi-first border rounded-lg cursor-pointer transition-colors",l.value.payment==="cash"?"border-sushi-gold bg-sushi-gold/10":"border-sushi-dark hover:border-sushi-gold/50"])},[y(e("input",{"onUpdate:modelValue":i[14]||(i[14]=r=>l.value.payment=r),type:"radio",value:"cash",class:"mr-3 flex-shrink-0",required:""},null,512),[[S,l.value.payment]]),e("span",as,t(s(o).checkout_cash),1)],2),e("label",{class:_(["flex items-center p-3 bg-sushi-first border rounded-lg cursor-pointer transition-colors",l.value.payment==="card"?"border-sushi-gold bg-sushi-gold/10":"border-sushi-dark hover:border-sushi-gold/50"])},[y(e("input",{"onUpdate:modelValue":i[15]||(i[15]=r=>l.value.payment=r),type:"radio",value:"card",class:"mr-3 flex-shrink-0",required:""},null,512),[[S,l.value.payment]]),e("span",ns,t(s(o).checkout_card),1)],2)]),n("payment")?(a(),u("p",us,t(n("payment")),1)):v("",!0)]),e("div",null,[e("label",cs,t(s(o).checkout_comment_label),1),y(e("textarea",{"onUpdate:modelValue":i[16]||(i[16]=r=>l.value.comment=r),rows:"3",class:_(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors resize-none",n("comment")?"border-red-400":"border-sushi-dark"]),placeholder:s(o).checkout_comment_placeholder},null,10,ms),[[C,l.value.comment]]),n("comment")?(a(),u("p",hs,t(n("comment")),1)):v("",!0)]),e("div",ps,[e("button",{type:"submit",disabled:M.value,class:"w-full sm:flex-1 bg-sushi-gold hover:bg-sushi-gold_op text-sushi-dark py-3 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base"},t(M.value?s(o).checkout_submitting:s(o).checkout_submit),9,vs),e("button",{type:"button",onClick:b,class:"w-full sm:flex-1 bg-sushi-first hover:bg-sushi-first/80 text-sushi-silver border border-sushi-dark py-3 rounded-lg font-medium transition-colors text-sm sm:text-base"},t(s(o).checkout_cancel),1)])],32)])],2)])):v("",!0)]),_:1},8,["is-visible"]),w(We,{"is-open":D.value,title:s(o).checkout_success_title,message:s(o).checkout_success_message,"button-text":s(o).checkout_success_close,onClose:j},null,8,["is-open","title","message","button-text"])],64))}},bs=z(xs,[["__scopeId","data-v-7f750a8d"]]),_s={class:"relative z-20 min-h-screen"},ys={class:"container mx-auto px-4 py-8 max-w-6xl"},fs={class:"mb-8"},gs={class:"text-3xl font-bold text-sushi-silver mb-2"},ks={class:"text-sushi-silver/60"},ws={key:1,class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},$s={class:"lg:col-span-2 space-y-4"},Cs={key:0,class:"fixed bottom-4 left-1/2 -translate-x-1/2 z-50 px-4"},qs={class:"bg-sushi-dark/90 border border-sushi-gold/60 text-sushi-silver px-4 py-3 rounded-full shadow-lg flex items-center gap-3"},Ts={class:"text-sm"},Ns={__name:"Cart",setup(d){const $=F(),h=$.props.translations.common,c=E();$.props.deliverySettings?c.initDeliverySettings($.props.deliverySettings):console.warn("âš  deliverySettings Ð½Ðµ Ð¿ÐµÑ€ÐµÐ´Ð°Ð½ Ð² props. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ Ð¸Ð· ÑÑ‚Ð¾Ñ€Ð°.");const p=q(!1),o=q(!1),m=q(null),x=q(null),l=W(()=>{const k=c.totalItems,b=k%10,f=k%100;return f>=11&&f<=19?h.item_5:b===1?h.item_1:b>=2&&b<=4?h.item_2:h.item_5}),B=k=>{const b=c.items.find(f=>f.product.id===k);b&&(c.removeFromCart(k),m.value={product:b.product,quantity:b.quantity},o.value=!0,x.value&&clearTimeout(x.value),x.value=setTimeout(()=>{o.value=!1,m.value=null,x.value=null},5e3))},M=()=>{m.value&&(c.addToCart(m.value.product,m.value.quantity),o.value=!1,m.value=null,x.value&&(clearTimeout(x.value),x.value=null))},U=()=>{o.value=!1,m.value=null,x.value&&(clearTimeout(x.value),x.value=null)},D=()=>{confirm(h.cart_confirm_clear)&&c.clearCart()};return(k,b)=>(a(),u(V,null,[w(s(J),{title:s(h).cart_page_title},null,8,["title"]),w(K,{image:"/images/sushi-pattern.jpg",opacity:.4,speed:.2,"max-height":"100vh"}),w(X),e("div",_s,[e("div",ys,[e("div",fs,[e("h1",gs,t(s(h).cart_page_title),1),e("p",ks,t(s(c).totalItems)+" "+t(l.value),1)]),s(c).items.length===0?(a(),O(te,{key:0,locale:k.$page.props.locale},null,8,["locale"])):(a(),u("div",ws,[e("div",$s,[(a(!0),u(V,null,R(s(c).items,f=>(a(),O(xe,{key:f.product.id,item:f,locale:k.$page.props.locale,onIncrement:j=>s(c).incrementQuantity(f.product.id),onDecrement:j=>s(c).decrementQuantity(f.product.id),onRemove:j=>B(f.product.id)},null,8,["item","locale","onIncrement","onDecrement","onRemove"]))),128))]),w(Ie,{items:s(c).items,"total-items":s(c).totalItems,"total-price":s(c).totalPrice,currency:s(c).currency,locale:k.$page.props.locale,"delivery-cost":s(c).deliveryCost,"is-free-delivery":s(c).isFreeDelivery,"amount-until-free":s(c).amountUntilFreeDelivery,"total-with-delivery":s(c).totalWithDelivery,onCheckout:b[0]||(b[0]=f=>p.value=!0),onClear:D},null,8,["items","total-items","total-price","currency","locale","delivery-cost","is-free-delivery","amount-until-free","total-with-delivery"])]))])]),o.value?(a(),u("div",Cs,[e("div",qs,[e("span",Ts,t(s(h).cart_item_removed||"Ð¢Ð¾Ð²Ð°Ñ€ ÑƒÐ´Ð°Ð»Ñ‘Ð½ Ð¸Ð· ÐºÐ¾Ñ€Ð·Ð¸Ð½Ñ‹"),1),e("button",{onClick:M,class:"text-xs font-semibold uppercase tracking-wide underline underline-offset-4"},t(s(h).common_undo||"ÐžÑ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ"),1),e("button",{onClick:U,class:"ml-1 text-sushi-silver/60 text-lg leading-none","aria-label":"Close"},"Ã—")])])):v("",!0),w(bs,{"is-open":p.value,onClose:b[1]||(b[1]=f=>p.value=!1)},null,8,["is-open"])],64))}};export{Ns as default};
