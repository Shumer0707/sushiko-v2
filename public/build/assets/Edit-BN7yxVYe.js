import{u as y,i as g,c as a,o as d,a as e,f as n,g as p,k,e as r,t as m,v as b,m as f,b as w,w as V,d as _,l as U,h as c}from"./app-QRAPOiZp.js";const N={class:"space-y-4"},E={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},M={key:0,class:"text-red-500 text-sm"},R={key:0,class:"text-red-500 text-sm"},B={key:0,class:"text-red-500 text-sm"},C={class:"flex items-center gap-2"},D={class:"flex items-center gap-2"},O={class:"space-y-4"},S={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},T={key:0,class:"text-red-500 text-sm"},j={key:0,class:"text-red-500 text-sm"},q={key:0,class:"text-red-500 text-sm"},F={class:"flex gap-2"},A={__name:"Edit",props:{attribute:{type:Object,required:!0}},setup(x){const o=x,u=i=>{var t;return((t=o.attribute.translations.find(l=>l.language===i))==null?void 0:t.name)||""},s=y({type:o.attribute.type??"select",unit:o.attribute.unit??"",is_filterable:!!o.attribute.is_filterable,is_variant:!!o.attribute.is_variant,sort_order:o.attribute.sort_order??0,translations:{ru:u("ru"),ro:u("ro"),en:u("en")}});g(()=>o.attribute,i=>{s.type=i.type??"select",s.unit=i.unit??"",s.is_filterable=!!i.is_filterable,s.is_variant=!!i.is_variant,s.sort_order=i.sort_order??0,s.translations.ru=u("ru"),s.translations.ro=u("ro"),s.translations.en=u("en")},{immediate:!0});const v=()=>s.put(route("admin.attributes.update",o.attribute.id));return(i,t)=>(d(),a("div",{class:"max-w-7xl mx-auto space-y-8 text-admin-text",key:o.attribute.id},[t[21]||(t[21]=e("h1",{class:"text-xl font-semibold"},"Редактировать атрибут",-1)),e("form",{onSubmit:c(v,["prevent"]),class:"space-y-8"},[e("div",N,[t[14]||(t[14]=e("h2",{class:"text-lg font-semibold"},"Параметры",-1)),e("div",E,[e("div",null,[t[9]||(t[9]=e("label",{class:"block font-semibold mb-1"},"Тип",-1)),n(e("select",{"onUpdate:modelValue":t[0]||(t[0]=l=>r(s).type=l),class:"form-input w-full"},t[8]||(t[8]=[e("option",{value:"select"},"select",-1),e("option",{value:"text"},"text",-1),e("option",{value:"number"},"number",-1)]),512),[[k,r(s).type]]),r(s).errors.type?(d(),a("div",M,m(r(s).errors.type),1)):p("",!0)]),e("div",null,[t[10]||(t[10]=e("label",{class:"block font-semibold mb-1"},"Ед. измерения",-1)),n(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>r(s).unit=l),class:"form-input w-full",placeholder:"мм / кг / см и т.п."},null,512),[[b,r(s).unit]]),r(s).errors.unit?(d(),a("div",R,m(r(s).errors.unit),1)):p("",!0)]),e("div",null,[t[11]||(t[11]=e("label",{class:"block font-semibold mb-1"},"Порядок",-1)),n(e("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=l=>r(s).sort_order=l),class:"form-input w-full",min:"0"},null,512),[[b,r(s).sort_order,void 0,{number:!0}]]),r(s).errors.sort_order?(d(),a("div",B,m(r(s).errors.sort_order),1)):p("",!0)]),e("label",C,[n(e("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=l=>r(s).is_filterable=l)},null,512),[[f,r(s).is_filterable]]),t[12]||(t[12]=e("span",{class:"font-semibold"},"Доступен в фильтрах",-1))]),e("label",D,[n(e("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=l=>r(s).is_variant=l)},null,512),[[f,r(s).is_variant]]),t[13]||(t[13]=e("span",{class:"font-semibold"},"Используется для вариаций",-1))])])]),e("div",O,[t[18]||(t[18]=e("h2",{class:"text-lg font-semibold"},"Переводы",-1)),e("div",S,[e("div",null,[t[15]||(t[15]=e("h3",{class:"font-semibold mb-2 uppercase"},"RU",-1)),n(e("input",{"onUpdate:modelValue":t[5]||(t[5]=l=>r(s).translations.ru=l),class:"form-input w-full",placeholder:"Название (RU)"},null,512),[[b,r(s).translations.ru]]),r(s).errors["translations.ru"]?(d(),a("div",T,m(r(s).errors["translations.ru"]),1)):p("",!0)]),e("div",null,[t[16]||(t[16]=e("h3",{class:"font-semibold mb-2 uppercase"},"RO",-1)),n(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>r(s).translations.ro=l),class:"form-input w-full",placeholder:"Denumire (RO)"},null,512),[[b,r(s).translations.ro]]),r(s).errors["translations.ro"]?(d(),a("div",j,m(r(s).errors["translations.ro"]),1)):p("",!0)]),e("div",null,[t[17]||(t[17]=e("h3",{class:"font-semibold mb-2 uppercase"},"EN",-1)),n(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>r(s).translations.en=l),class:"form-input w-full",placeholder:"Name (EN)"},null,512),[[b,r(s).translations.en]]),r(s).errors["translations.en"]?(d(),a("div",q,m(r(s).errors["translations.en"]),1)):p("",!0)])])]),e("div",F,[t[20]||(t[20]=e("button",{class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition"},"Обновить",-1)),w(r(U),{href:i.route("admin.attributes.index"),class:"px-4 py-2 border rounded hover:bg-gray-50 transition"},{default:V(()=>t[19]||(t[19]=[_(" Отмена ",-1)])),_:1,__:[19]},8,["href"])])],32)]))}};export{A as default};
