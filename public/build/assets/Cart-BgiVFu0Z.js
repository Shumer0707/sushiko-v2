import{n as F,c as u,o as n,a as e,b as w,t,e as s,w as N,d as k,l as j,q as W,_ as z,F as D,r as R,g as b,s as T,y as B,z as _,h as P,H as E,I as A,i as Q,f as y,v as q,k as G,C as M,j as L,D as J}from"./app-DbnE9Vpg.js";import{P as K,a as X}from"./PageGradient-CcZmhkIe.js";const Y={class:"text-center py-12 sm:py-16 px-4"},Z={class:"text-xl sm:text-2xl font-bold text-sushi-silver mb-4"},ee={class:"text-sushi-silver/60 mb-6 text-sm sm:text-base"},te={__name:"CartEmpty",props:{locale:{type:String,required:!0}},setup(a){const m=F().props.translations.common;return(c,p)=>(n(),u("div",Y,[p[0]||(p[0]=e("div",{class:"text-5xl sm:text-6xl mb-4"},"ðŸ›’",-1)),e("h2",Z,t(s(m).cart_empty_title),1),e("p",ee,t(s(m).cart_empty_description),1),w(s(j),{href:c.route("home",{locale:a.locale}),class:"inline-block bg-sushi-gold hover:bg-sushi-gold_op text-sushi-dark px-6 py-3 rounded-lg font-medium transition-colors"},{default:N(()=>[k(t(s(m).cart_empty_button),1)]),_:1},8,["href"])]))}},se={class:"bg-sushi-dark/50 border border-sushi-first rounded-lg p-4 hover:border-sushi-gold/50 transition-colors"},oe={class:"flex flex-col lg:flex-row lg:items-center gap-4"},le={class:"flex items-center gap-4 flex-grow"},re={class:"w-20 h-20 sm:w-24 sm:h-24 bg-sushi-first rounded-lg overflow-hidden"},ie=["src","alt"],ae={key:1,class:"w-full h-full flex items-center justify-center text-2xl sm:text-3xl"},de={class:"flex-grow min-w-0"},ne={class:"text-sm text-sushi-silver/60 mt-1"},ue={class:"flex items-center justify-between lg:justify-end gap-3 lg:gap-4"},ce={class:"flex items-center gap-1 sm:gap-2 bg-sushi-first rounded-lg overflow-hidden"},me={class:"px-3 sm:px-4 py-2 text-sushi-silver font-medium min-w-[2.5ch] text-center"},he={class:"text-right min-w-[80px] sm:min-w-[100px]"},pe={class:"font-bold text-sushi-gold text-sm sm:text-base"},ve=["title"],xe={__name:"CartItem",props:{item:{type:Object,required:!0},locale:{type:String,required:!0}},emits:["increment","decrement","remove"],setup(a){const m=F().props.translations.common,c=a,p=W(()=>(c.item.product.price*c.item.quantity).toFixed(2));return(o,h)=>(n(),u("div",se,[e("div",oe,[e("div",le,[w(s(j),{href:o.route("product.show",{locale:a.locale,slug:a.item.product.slug}),class:"flex-shrink-0"},{default:N(()=>[e("div",re,[a.item.product.image_url?(n(),u("img",{key:0,src:a.item.product.image_url,alt:a.item.product.name,class:"w-full h-full object-cover hover:scale-110 transition-transform duration-300"},null,8,ie)):(n(),u("div",ae,"ðŸ£"))])]),_:1},8,["href"]),e("div",de,[w(s(j),{href:o.route("product.show",{locale:a.locale,slug:a.item.product.slug}),class:"font-semibold text-sushi-silver hover:text-sushi-gold transition-colors block truncate"},{default:N(()=>[k(t(a.item.product.name),1)]),_:1},8,["href"]),e("p",ne,t(a.item.product.price)+" "+t(a.item.product.currency),1)])]),e("div",ue,[e("div",ce,[e("button",{onClick:h[0]||(h[0]=v=>o.$emit("decrement")),class:"px-2 sm:px-3 py-2 bg-sushi-dark hover:bg-sushi-red/40 text-sushi-gold font-bold transition-colors text-lg"}," âˆ’ "),e("span",me,t(a.item.quantity),1),e("button",{onClick:h[1]||(h[1]=v=>o.$emit("increment")),class:"px-2 sm:px-3 py-2 bg-sushi-dark hover:bg-sushi-red/40 text-sushi-gold font-bold transition-colors text-lg"}," + ")]),e("div",he,[e("p",pe,t(p.value)+" "+t(a.item.product.currency),1)]),e("button",{onClick:h[2]||(h[2]=v=>o.$emit("remove")),class:"text-red-400 hover:text-red-300 p-2 transition-colors flex-shrink-0",title:s(m).cart_item_remove},h[3]||(h[3]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,ve)])])]))}},be={class:"lg:col-span-1"},_e={class:"bg-sushi-dark/50 border border-sushi-first rounded-lg p-4 sm:p-6 lg:sticky lg:top-24"},ye={class:"text-xl font-bold text-sushi-silver mb-4"},fe={class:"space-y-2 mb-4 max-h-[200px] overflow-y-auto custom-scrollbar"},ge={class:"flex-grow min-w-0 pr-2"},ke={class:"truncate block"},$e={class:"text-xs text-sushi-silver/60"},we={class:"font-medium text-sushi-gold flex-shrink-0"},Ce={class:"space-y-3 mb-6"},qe={class:"flex justify-between text-sushi-silver/80 text-sm sm:text-base"},Te={class:"flex justify-between text-sushi-silver/80 text-sm sm:text-base"},Se={key:0,class:"text-sushi-gold font-medium"},Me={key:1,class:"text-sushi-silver"},Ne={key:0,class:"text-xs text-sushi-gold/80 bg-sushi-first/20 rounded p-2"},Ue={class:"border-t border-sushi-first pt-3"},Ve={class:"flex justify-between items-center"},De={class:"text-base sm:text-lg font-semibold text-sushi-silver"},Fe={class:"text-xl sm:text-2xl font-bold text-sushi-gold"},je={__name:"CartSummary",props:{items:{type:Array,required:!0},totalItems:{type:Number,required:!0},totalPrice:{type:[Number,String],required:!0},currency:{type:String,required:!0},locale:{type:String,required:!0},deliveryCost:{type:Number,required:!0},isFreeDelivery:{type:Boolean,required:!0},amountUntilFree:{type:[Number,String],required:!0},totalWithDelivery:{type:[Number,String],required:!0}},emits:["checkout","clear"],setup(a){const m=F().props.translations.common;return(c,p)=>(n(),u("div",be,[e("div",_e,[e("h3",ye,t(s(m).cart_summary_title),1),e("div",fe,[(n(!0),u(D,null,R(a.items,o=>(n(),u("div",{key:o.product.id,class:"flex justify-between items-center text-sm text-sushi-silver/80 py-2 border-b border-sushi-first/30"},[e("div",ge,[e("span",ke,t(o.product.name),1),e("span",$e,t(o.quantity)+" Ã— "+t(o.product.price)+" "+t(a.currency),1)]),e("span",we,t((o.product.price*o.quantity).toFixed(2))+" "+t(a.currency),1)]))),128))]),p[2]||(p[2]=e("div",{class:"border-t border-sushi-first my-4"},null,-1)),e("div",Ce,[e("div",qe,[e("span",null,t(s(m).cart_summary_products)+" ("+t(a.totalItems)+")",1),e("span",null,t(a.totalPrice)+" "+t(a.currency),1)]),e("div",Te,[e("span",null,t(s(m).cart_summary_delivery),1),a.isFreeDelivery?(n(),u("span",Se,t(s(m).cart_summary_free_delivery),1)):(n(),u("span",Me,t(a.deliveryCost)+" "+t(a.currency),1))]),!a.isFreeDelivery&&a.amountUntilFree>0?(n(),u("div",Ne," ðŸ’¡ "+t(s(m).cart_summary_until_free)+" "+t(a.amountUntilFree)+" "+t(a.currency)+" "+t(s(m).cart_summary_until_free_text),1)):b("",!0),e("div",Ue,[e("div",Ve,[e("span",De,t(s(m).cart_summary_total),1),e("span",Fe,t(a.totalWithDelivery)+" "+t(a.currency),1)])])]),e("button",{onClick:p[0]||(p[0]=o=>c.$emit("checkout")),class:"block w-full bg-sushi-gold hover:bg-sushi-gold_op text-sushi-dark py-3 rounded-lg font-medium text-center transition-colors mb-3"},t(s(m).cart_summary_checkout),1),w(s(j),{href:c.route("home",{locale:a.locale}),class:"block w-full bg-sushi-first hover:bg-sushi-first/80 text-sushi-silver border border-sushi-dark py-3 rounded-lg font-medium text-center transition-colors"},{default:N(()=>[k(t(s(m).cart_summary_continue),1)]),_:1},8,["href"]),e("button",{onClick:p[1]||(p[1]=o=>c.$emit("clear")),class:"w-full mt-4 text-red-400 hover:text-red-300 text-sm underline transition-colors"},t(s(m).cart_summary_clear),1)])]))}},Ie=z(je,[["__scopeId","data-v-27df23f9"]]),Oe={class:"text-2xl font-bold text-sushi-silver mb-2"},Be={class:"text-sushi-silver/80 text-sm"},Pe={__name:"SuccessModal",props:{isOpen:Boolean,title:{type:String,default:"Ð—Ð°ÐºÐ°Ð· Ð¿Ñ€Ð¸Ð½ÑÑ‚"},message:{type:String,default:"Ð’Ð°Ñˆ Ð·Ð°ÐºÐ°Ð· ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð¾Ñ„Ð¾Ñ€Ð¼Ð»ÐµÐ½. ÐžÐ¶Ð¸Ð´Ð°Ð¹Ñ‚Ðµ Ð·Ð²Ð¾Ð½ÐºÐ° Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð°."},buttonText:{type:String,default:"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ"}},emits:["close"],setup(a,{emit:$}){const m=$,c=T(!1),p=()=>{c.value=!0,setTimeout(()=>m("close"),250)};return(o,h)=>(n(),B(E,{"is-visible":a.isOpen,"z-index":9999,onClose:p},{default:N(()=>[a.isOpen?(n(),u("div",{key:0,class:"fixed inset-0 flex items-center justify-center p-4",onClick:p},[e("div",{onClick:h[0]||(h[0]=P(()=>{},["stop"])),class:_(["bg-sushi-dark border border-sushi-gold rounded-xl w-full max-w-md p-6 text-center modal-content",c.value?"closing":""])},[h[1]||(h[1]=e("div",{class:"text-sushi-gold text-5xl mb-4"},"âœ”ï¸",-1)),e("h2",Oe,t(a.title),1),e("p",Be,t(a.message),1),e("button",{onClick:p,class:"mt-6 w-full bg-sushi-gold hover:bg-sushi-gold_op text-sushi-dark py-3 rounded-lg font-medium transition-colors"},t(a.buttonText),1)],2)])):b("",!0)]),_:1},8,["is-visible"]))}},We=z(Pe,[["__scopeId","data-v-88273270"]]),ze={class:"flex items-center justify-between p-4 sm:p-6 border-b border-sushi-first"},Re={class:"text-lg sm:text-2xl font-bold text-sushi-silver"},Ee={class:"p-4 sm:p-6"},Ae={class:"bg-sushi-first/30 border border-sushi-gold/30 rounded-lg p-3 sm:p-4 mb-6"},Le={class:"flex justify-between items-center flex-wrap gap-2"},He={class:"text-sushi-silver/80 text-sm sm:text-base"},Qe={class:"text-xl sm:text-2xl font-bold text-sushi-gold"},Ge={class:"text-xs sm:text-sm text-sushi-silver/60 mt-2"},Je={key:0,class:"bg-red-500/10 border border-red-400 rounded-lg p-4 mb-6"},Ke={class:"text-red-400 font-medium"},Xe={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Ye={class:"block text-sm font-medium text-sushi-silver mb-2"},Ze={class:"text-red-400"},et=["placeholder"],tt={key:0,class:"text-red-400 text-xs mt-1"},st={class:"block text-sm font-medium text-sushi-silver mb-2"},ot={class:"text-red-400"},lt={class:"flex gap-2"},rt={class:"relative"},it=["value"],at=["placeholder"],dt={key:0,class:"text-red-400 text-xs mt-1"},nt={class:"block text-sm font-medium text-sushi-silver mb-2"},ut={class:"text-red-400"},ct=["placeholder"],mt={key:0,class:"text-red-400 text-xs mt-1"},ht={class:"block text-sm font-medium text-sushi-silver mb-3"},pt={class:"text-red-400"},vt={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},xt={class:"text-sushi-silver text-sm sm:text-base"},bt={class:"text-sushi-silver text-sm sm:text-base"},_t={key:0,class:"text-red-400 text-xs mt-1"},yt={key:0,class:"bg-sushi-first/30 border border-sushi-gold/30 rounded-lg p-4"},ft={class:"text-sushi-silver font-medium mb-2"},gt={class:"text-sushi-silver/80 text-sm mb-1"},kt={class:"text-sushi-silver/60 text-xs"},$t={key:1,class:"space-y-4 bg-sushi-first/10 border border-sushi-first rounded-lg p-4"},wt={class:"block text-sm font-medium text-sushi-silver mb-3"},Ct={class:"text-red-400"},qt={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},Tt={class:"text-sushi-silver text-sm sm:text-base"},St={class:"text-sushi-silver text-sm sm:text-base"},Mt={key:0,class:"text-red-400 text-xs mt-1"},Nt={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},Ut={class:"sm:col-span-2"},Vt={class:"block text-sm font-medium text-sushi-silver mb-2"},Dt={class:"text-red-400"},Ft=["required","placeholder"],jt={key:0,class:"text-red-400 text-xs mt-1"},It={class:"block text-sm font-medium text-sushi-silver mb-2"},Ot={class:"text-red-400"},Bt=["required","placeholder"],Pt={key:0,class:"text-red-400 text-xs mt-1"},Wt={key:0,class:"space-y-4"},zt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Rt={class:"block text-sm font-medium text-sushi-silver mb-2"},Et={class:"text-red-400"},At=["required","placeholder"],Lt={key:0,class:"text-red-400 text-xs mt-1"},Ht={class:"block text-sm font-medium text-sushi-silver mb-2"},Qt={class:"text-red-400"},Gt=["required","placeholder"],Jt={key:0,class:"text-red-400 text-xs mt-1"},Kt={key:1,class:"text-xs text-sushi-silver/50 mt-1"},Xt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Yt={class:"block text-sm font-medium text-sushi-silver mb-2"},Zt=["placeholder"],es={key:0,class:"text-red-400 text-xs mt-1"},ts={class:"block text-sm font-medium text-sushi-silver mb-2"},ss=["placeholder"],os={key:0,class:"text-red-400 text-xs mt-1"},ls={key:1,class:"text-xs text-sushi-silver/50 mt-1"},rs={class:"block text-sm font-medium text-sushi-silver mb-3"},is={class:"text-red-400"},as={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},ds={class:"text-sushi-silver text-sm sm:text-base"},ns={class:"text-sushi-silver text-sm sm:text-base"},us={key:0,class:"text-red-400 text-xs mt-1"},cs={class:"block text-sm font-medium text-sushi-silver mb-2"},ms=["placeholder"],hs={key:0,class:"text-red-400 text-xs mt-1"},ps={class:"flex flex-col sm:flex-row gap-3 pt-4"},vs=["disabled"],xs={__name:"CheckoutModal",props:{isOpen:{type:Boolean,required:!0}},emits:["close"],setup(a,{emit:$}){const m=a,c=$,o=F().props.translations.common,h=A(),v=T({}),l=T({name:"",phone:"",phoneCode:"+373",email:"",deliveryMethod:"pickup",addressType:"apartment",address:"",houseNumber:"",apartmentNumber:"",entrance:"",floor:"",intercom:"",comment:"",payment:"cash"}),I=[{code:"+373",label:"MD",flag:"ðŸ‡²ðŸ‡©"},{code:"+40",label:"RO",flag:"ðŸ‡·ðŸ‡´"},{code:"+380",label:"UA",flag:"ðŸ‡ºðŸ‡¦"}],S=T(!1),U=T(!1),V=T(!1);Q(()=>m.isOpen,C=>{C?(document.body.style.overflow="hidden",U.value=!1):document.body.style.overflow=""});const O=W(()=>{const C=h.totalItems,i=C%10,r=C%100;return r>=11&&r<=19?o.item_5:i===1?o.item_1:i>=2&&i<=4?o.item_2:o.item_5}),x=()=>{U.value=!0,setTimeout(()=>{c("close")},250)},f=()=>{v.value={},h.clearCart(),l.value={name:"",phoneCode:"+373",phone:"",email:"",deliveryMethod:"pickup",addressType:"apartment",address:"",houseNumber:"",apartmentNumber:"",entrance:"",floor:"",intercom:"",comment:"",payment:"cash"},V.value=!0},g=()=>{V.value=!1,x()},d=C=>v.value[C]?v.value[C][0]:null,H=async()=>{v.value={},S.value=!0;const C=h.items.map(r=>({id:r.product.id,name:r.product.name,price:parseFloat(r.product.price),quantity:r.quantity})),i={customer:{name:l.value.name,phone:l.value.phoneCode+l.value.phone.replace(/\s+/g,""),email:l.value.email},delivery:{method:l.value.deliveryMethod,...l.value.deliveryMethod==="delivery"&&{addressType:l.value.addressType,address:l.value.address,houseNumber:l.value.houseNumber,...l.value.addressType==="apartment"&&{apartmentNumber:l.value.apartmentNumber,entrance:l.value.entrance,floor:l.value.floor,intercom:l.value.intercom}}},payment:l.value.payment,comment:l.value.comment,items:C,total:parseFloat(h.totalPrice),deliveryCost:parseFloat(h.deliveryCost),totalWithDelivery:parseFloat(h.totalWithDelivery),currency:h.currency};L.post(route("order.checkout"),i,{preserveScroll:!0,onSuccess:()=>{f()},onError:r=>{v.value=r,console.error("ÐžÑˆÐ¸Ð±ÐºÐ¸ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸:",r)},onFinish:()=>{S.value=!1}})};return(C,i)=>(n(),u(D,null,[w(E,{"is-visible":a.isOpen,"z-index":9999,onClose:x},{default:N(()=>[a.isOpen?(n(),u("div",{key:0,class:"fixed inset-0 flex items-center justify-center p-2 sm:p-4",onClick:x},[e("div",{onClick:i[17]||(i[17]=P(()=>{},["stop"])),class:_(["bg-sushi-dark border border-sushi-gold rounded-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto modal-content",U.value?"closing":""])},[e("div",ze,[e("h2",Re,t(s(o).checkout_title),1),e("button",{onClick:x,class:"text-sushi-silver/60 hover:text-sushi-gold transition-colors p-1"},i[18]||(i[18]=[e("svg",{class:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",Ee,[e("div",Ae,[e("div",Le,[e("span",He,t(s(o).checkout_total_label),1),e("span",Qe,t(s(h).totalWithDelivery)+" "+t(s(h).currency),1)]),e("p",Ge,t(s(h).totalItems)+" "+t(O.value),1)]),d("items")?(n(),u("div",Je,[e("p",Ke,t(d("items")),1)])):b("",!0),e("form",{onSubmit:P(H,["prevent"]),class:"space-y-4"},[e("div",Xe,[e("div",null,[e("label",Ye,[k(t(s(o).checkout_name_label)+" ",1),e("span",Ze,t(s(o).checkout_required),1)]),y(e("input",{"onUpdate:modelValue":i[0]||(i[0]=r=>l.value.name=r),type:"text",required:"",class:_(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",d("customer.name")?"border-red-400":"border-sushi-dark"]),placeholder:s(o).checkout_name_placeholder},null,10,et),[[q,l.value.name]]),d("customer.name")?(n(),u("p",tt,t(d("customer.name")),1)):b("",!0)]),e("div",null,[e("label",st,[k(t(s(o).checkout_phone_label)+" ",1),e("span",ot,t(s(o).checkout_required),1)]),e("div",lt,[e("div",rt,[y(e("select",{"onUpdate:modelValue":i[1]||(i[1]=r=>l.value.phoneCode=r),class:"bg-sushi-first border border-sushi-dark rounded-lg px-3 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors w-28 appearance-none"},[(n(),u(D,null,R(I,r=>e("option",{key:r.code,value:r.code},t(r.flag)+" "+t(r.code),9,it)),64))],512),[[G,l.value.phoneCode]])]),y(e("input",{"onUpdate:modelValue":i[2]||(i[2]=r=>l.value.phone=r),type:"text",required:"",class:_(["flex-1 bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",d("customer.phone")?"border-red-400":"border-sushi-dark"]),placeholder:s(o).checkout_phone_placeholder},null,10,at),[[q,l.value.phone]])]),d("customer.phone")?(n(),u("p",dt,t(d("customer.phone")),1)):b("",!0)])]),e("div",null,[e("label",nt,[k(t(s(o).checkout_email_label)+" ",1),e("span",ut,t(s(o).checkout_required),1)]),y(e("input",{"onUpdate:modelValue":i[3]||(i[3]=r=>l.value.email=r),type:"email",required:"",class:_(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",d("customer.email")?"border-red-400":"border-sushi-dark"]),placeholder:s(o).checkout_email_placeholder},null,10,ct),[[q,l.value.email]]),d("customer.email")?(n(),u("p",mt,t(d("customer.email")),1)):b("",!0)]),e("div",null,[e("label",ht,[k(t(s(o).checkout_delivery_method_label)+" ",1),e("span",pt,t(s(o).checkout_required),1)]),e("div",vt,[e("label",{class:_(["flex items-center p-3 bg-sushi-first border rounded-lg cursor-pointer transition-colors",l.value.deliveryMethod==="pickup"?"border-sushi-gold bg-sushi-gold/10":"border-sushi-dark hover:border-sushi-gold/50"])},[y(e("input",{"onUpdate:modelValue":i[4]||(i[4]=r=>l.value.deliveryMethod=r),type:"radio",value:"pickup",class:"mr-3 flex-shrink-0",required:""},null,512),[[M,l.value.deliveryMethod]]),e("span",xt,t(s(o).checkout_pickup),1)],2),e("label",{class:_(["flex items-center p-3 bg-sushi-first border rounded-lg cursor-pointer transition-colors",l.value.deliveryMethod==="delivery"?"border-sushi-gold bg-sushi-gold/10":"border-sushi-dark hover:border-sushi-gold/50"])},[y(e("input",{"onUpdate:modelValue":i[5]||(i[5]=r=>l.value.deliveryMethod=r),type:"radio",value:"delivery",class:"mr-3 flex-shrink-0",required:""},null,512),[[M,l.value.deliveryMethod]]),e("span",bt,t(s(o).checkout_delivery),1)],2)]),d("delivery.method")?(n(),u("p",_t,t(d("delivery.method")),1)):b("",!0)]),l.value.deliveryMethod==="pickup"?(n(),u("div",yt,[e("p",ft,t(s(o).checkout_pickup_address_label),1),e("p",gt,t(s(o).checkout_pickup_address),1),e("p",kt,t(s(o).checkout_pickup_hours),1)])):b("",!0),l.value.deliveryMethod==="delivery"?(n(),u("div",$t,[e("div",null,[e("label",wt,[k(t(s(o).checkout_address_type_label)+" ",1),e("span",Ct,t(s(o).checkout_required),1)]),e("div",qt,[e("label",{class:_(["flex items-center p-3 bg-sushi-first border rounded-lg cursor-pointer transition-colors",l.value.addressType==="house"?"border-sushi-gold bg-sushi-gold/10":"border-sushi-dark hover:border-sushi-gold/50"])},[y(e("input",{"onUpdate:modelValue":i[6]||(i[6]=r=>l.value.addressType=r),type:"radio",value:"house",class:"mr-3 flex-shrink-0"},null,512),[[M,l.value.addressType]]),e("span",Tt,t(s(o).checkout_house),1)],2),e("label",{class:_(["flex items-center p-3 bg-sushi-first border rounded-lg cursor-pointer transition-colors",l.value.addressType==="apartment"?"border-sushi-gold bg-sushi-gold/10":"border-sushi-dark hover:border-sushi-gold/50"])},[y(e("input",{"onUpdate:modelValue":i[7]||(i[7]=r=>l.value.addressType=r),type:"radio",value:"apartment",class:"mr-3 flex-shrink-0"},null,512),[[M,l.value.addressType]]),e("span",St,t(s(o).checkout_apartment),1)],2)]),d("delivery.addressType")?(n(),u("p",Mt,t(d("delivery.addressType")),1)):b("",!0)]),e("div",Nt,[e("div",Ut,[e("label",Vt,[k(t(s(o).checkout_street_label)+" ",1),e("span",Dt,t(s(o).checkout_required),1)]),y(e("input",{"onUpdate:modelValue":i[8]||(i[8]=r=>l.value.address=r),type:"text",required:l.value.deliveryMethod==="delivery",class:_(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",d("delivery.address")?"border-red-400":"border-sushi-dark"]),placeholder:s(o).checkout_street_placeholder},null,10,Ft),[[q,l.value.address]]),d("delivery.address")?(n(),u("p",jt,t(d("delivery.address")),1)):b("",!0)]),e("div",null,[e("label",It,[k(t(s(o).checkout_house_number_label)+" ",1),e("span",Ot,t(s(o).checkout_required),1)]),y(e("input",{"onUpdate:modelValue":i[9]||(i[9]=r=>l.value.houseNumber=r),type:"text",required:l.value.deliveryMethod==="delivery",class:_(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",d("delivery.houseNumber")?"border-red-400":"border-sushi-dark"]),placeholder:s(o).checkout_house_number_placeholder},null,10,Bt),[[q,l.value.houseNumber]]),d("delivery.houseNumber")?(n(),u("p",Pt,t(d("delivery.houseNumber")),1)):b("",!0)])]),l.value.addressType==="apartment"?(n(),u("div",Wt,[e("div",zt,[e("div",null,[e("label",Rt,[k(t(s(o).checkout_apartment_number_label)+" ",1),e("span",Et,t(s(o).checkout_required),1)]),y(e("input",{"onUpdate:modelValue":i[10]||(i[10]=r=>l.value.apartmentNumber=r),type:"text",required:l.value.deliveryMethod==="delivery"&&l.value.addressType==="apartment",class:_(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",d("delivery.apartmentNumber")?"border-red-400":"border-sushi-dark"]),placeholder:s(o).checkout_apartment_number_placeholder},null,10,At),[[q,l.value.apartmentNumber]]),d("delivery.apartmentNumber")?(n(),u("p",Lt,t(d("delivery.apartmentNumber")),1)):b("",!0)]),e("div",null,[e("label",Ht,[k(t(s(o).checkout_entrance_label)+" ",1),e("span",Qt,t(s(o).checkout_required),1)]),y(e("input",{"onUpdate:modelValue":i[11]||(i[11]=r=>l.value.entrance=r),type:"text",required:l.value.deliveryMethod==="delivery"&&l.value.addressType==="apartment",class:_(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",d("delivery.entrance")?"border-red-400":"border-sushi-dark"]),placeholder:s(o).checkout_entrance_placeholder},null,10,Gt),[[q,l.value.entrance]]),d("delivery.entrance")?(n(),u("p",Jt,t(d("delivery.entrance")),1)):(n(),u("p",Kt,t(s(o).checkout_entrance_hint),1))])]),e("div",Xt,[e("div",null,[e("label",Yt,t(s(o).checkout_floor_label),1),y(e("input",{"onUpdate:modelValue":i[12]||(i[12]=r=>l.value.floor=r),type:"text",class:_(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",d("delivery.floor")?"border-red-400":"border-sushi-dark"]),placeholder:s(o).checkout_floor_placeholder},null,10,Zt),[[q,l.value.floor]]),d("delivery.floor")?(n(),u("p",es,t(d("delivery.floor")),1)):b("",!0)]),e("div",null,[e("label",ts,t(s(o).checkout_intercom_label),1),y(e("input",{"onUpdate:modelValue":i[13]||(i[13]=r=>l.value.intercom=r),type:"text",class:_(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",d("delivery.intercom")?"border-red-400":"border-sushi-dark"]),placeholder:s(o).checkout_intercom_placeholder},null,10,ss),[[q,l.value.intercom]]),d("delivery.intercom")?(n(),u("p",os,t(d("delivery.intercom")),1)):(n(),u("p",ls,t(s(o).checkout_intercom_hint),1))])])])):b("",!0)])):b("",!0),e("div",null,[e("label",rs,[k(t(s(o).checkout_payment_label)+" ",1),e("span",is,t(s(o).checkout_required),1)]),e("div",as,[e("label",{class:_(["flex items-center p-3 bg-sushi-first border rounded-lg cursor-pointer transition-colors",l.value.payment==="cash"?"border-sushi-gold bg-sushi-gold/10":"border-sushi-dark hover:border-sushi-gold/50"])},[y(e("input",{"onUpdate:modelValue":i[14]||(i[14]=r=>l.value.payment=r),type:"radio",value:"cash",class:"mr-3 flex-shrink-0",required:""},null,512),[[M,l.value.payment]]),e("span",ds,t(s(o).checkout_cash),1)],2),e("label",{class:_(["flex items-center p-3 bg-sushi-first border rounded-lg cursor-pointer transition-colors",l.value.payment==="card"?"border-sushi-gold bg-sushi-gold/10":"border-sushi-dark hover:border-sushi-gold/50"])},[y(e("input",{"onUpdate:modelValue":i[15]||(i[15]=r=>l.value.payment=r),type:"radio",value:"card",class:"mr-3 flex-shrink-0",required:""},null,512),[[M,l.value.payment]]),e("span",ns,t(s(o).checkout_card),1)],2)]),d("payment")?(n(),u("p",us,t(d("payment")),1)):b("",!0)]),e("div",null,[e("label",cs,t(s(o).checkout_comment_label),1),y(e("textarea",{"onUpdate:modelValue":i[16]||(i[16]=r=>l.value.comment=r),rows:"3",class:_(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors resize-none",d("comment")?"border-red-400":"border-sushi-dark"]),placeholder:s(o).checkout_comment_placeholder},null,10,ms),[[q,l.value.comment]]),d("comment")?(n(),u("p",hs,t(d("comment")),1)):b("",!0)]),e("div",ps,[e("button",{type:"submit",disabled:S.value,class:"w-full sm:flex-1 bg-sushi-gold hover:bg-sushi-gold_op text-sushi-dark py-3 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base"},t(S.value?s(o).checkout_submitting:s(o).checkout_submit),9,vs),e("button",{type:"button",onClick:x,class:"w-full sm:flex-1 bg-sushi-first hover:bg-sushi-first/80 text-sushi-silver border border-sushi-dark py-3 rounded-lg font-medium transition-colors text-sm sm:text-base"},t(s(o).checkout_cancel),1)])],32)])],2)])):b("",!0)]),_:1},8,["is-visible"]),w(We,{"is-open":V.value,title:s(o).checkout_success_title,message:s(o).checkout_success_message,"button-text":s(o).checkout_success_close,onClose:g},null,8,["is-open","title","message","button-text"])],64))}},bs=z(xs,[["__scopeId","data-v-367aeeaa"]]),_s={class:"relative z-20 min-h-screen"},ys={class:"container mx-auto px-4 py-8 max-w-6xl"},fs={class:"mb-8"},gs={class:"text-3xl font-bold text-sushi-silver mb-2"},ks={class:"text-sushi-silver/60"},$s={key:1,class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},ws={class:"lg:col-span-2 space-y-4"},Cs={key:0,class:"fixed bottom-4 left-1/2 -translate-x-1/2 z-50 px-4"},qs={class:"bg-sushi-dark/90 border border-sushi-gold/60 text-sushi-silver px-4 py-3 rounded-full shadow-lg flex items-center gap-3"},Ts={class:"text-sm"},Ns={__name:"Cart",setup(a){const $=F(),m=$.props.translations.common,c=A();$.props.deliverySettings?c.initDeliverySettings($.props.deliverySettings):console.warn("âš  deliverySettings Ð½Ðµ Ð¿ÐµÑ€ÐµÐ´Ð°Ð½ Ð² props. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ Ð¸Ð· ÑÑ‚Ð¾Ñ€Ð°.");const p=T(!1),o=T(!1),h=T(null),v=T(null),l=W(()=>{const x=c.totalItems,f=x%10,g=x%100;return g>=11&&g<=19?m.item_5:f===1?m.item_1:f>=2&&f<=4?m.item_2:m.item_5}),I=x=>{const f=c.items.find(g=>g.product.id===x);f&&(c.removeFromCart(x),h.value={product:f.product,quantity:f.quantity},o.value=!0,v.value&&clearTimeout(v.value),v.value=setTimeout(()=>{o.value=!1,h.value=null,v.value=null},5e3))},S=()=>{h.value&&(c.addToCart(h.value.product,h.value.quantity),o.value=!1,h.value=null,v.value&&(clearTimeout(v.value),v.value=null))},U=()=>{o.value=!1,h.value=null,v.value&&(clearTimeout(v.value),v.value=null)},V=()=>{confirm(m.cart_confirm_clear)&&c.clearCart()},O=x=>{console.log("Ð—Ð°ÐºÐ°Ð· Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½:",x),alert(`${m.cart_order_success}, ${x.customer.name}! ${m.cart_order_contact} ${x.customer.phone}`),p.value=!1,c.clearCart(),setTimeout(()=>{L.visit(route("home",{locale:$.props.locale}))},1e3)};return(x,f)=>(n(),u(D,null,[w(s(J),{title:s(m).cart_page_title},null,8,["title"]),w(K,{image:"/images/sushi-pattern.jpg",opacity:.4,speed:.2,"max-height":"100vh"}),w(X),e("div",_s,[e("div",ys,[e("div",fs,[e("h1",gs,t(s(m).cart_page_title),1),e("p",ks,t(s(c).totalItems)+" "+t(l.value),1)]),s(c).items.length===0?(n(),B(te,{key:0,locale:x.$page.props.locale},null,8,["locale"])):(n(),u("div",$s,[e("div",ws,[(n(!0),u(D,null,R(s(c).items,g=>(n(),B(xe,{key:g.product.id,item:g,locale:x.$page.props.locale,onIncrement:d=>s(c).incrementQuantity(g.product.id),onDecrement:d=>s(c).decrementQuantity(g.product.id),onRemove:d=>I(g.product.id)},null,8,["item","locale","onIncrement","onDecrement","onRemove"]))),128))]),w(Ie,{items:s(c).items,"total-items":s(c).totalItems,"total-price":s(c).totalPrice,currency:s(c).currency,locale:x.$page.props.locale,"delivery-cost":s(c).deliveryCost,"is-free-delivery":s(c).isFreeDelivery,"amount-until-free":s(c).amountUntilFreeDelivery,"total-with-delivery":s(c).totalWithDelivery,onCheckout:f[0]||(f[0]=g=>p.value=!0),onClear:V},null,8,["items","total-items","total-price","currency","locale","delivery-cost","is-free-delivery","amount-until-free","total-with-delivery"])]))])]),o.value?(n(),u("div",Cs,[e("div",qs,[e("span",Ts,t(s(m).cart_item_removed||"Ð¢Ð¾Ð²Ð°Ñ€ ÑƒÐ´Ð°Ð»Ñ‘Ð½ Ð¸Ð· ÐºÐ¾Ñ€Ð·Ð¸Ð½Ñ‹"),1),e("button",{onClick:S,class:"text-xs font-semibold uppercase tracking-wide underline underline-offset-4"},t(s(m).common_undo||"ÐžÑ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ"),1),e("button",{onClick:U,class:"ml-1 text-sushi-silver/60 text-lg leading-none","aria-label":"Close"},"Ã—")])])):b("",!0),w(bs,{"is-open":p.value,onClose:f[1]||(f[1]=g=>p.value=!1),onSubmit:O},null,8,["is-open"])],64))}};export{Ns as default};
