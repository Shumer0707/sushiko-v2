import{n as B,c as u,o as d,a as e,b as $,t,e as s,w as U,d as g,l as O,q as j,_ as R,F as I,r as A,g as v,s as M,y as z,z as b,h as W,H as E,I as L,i as J,f as _,v as q,k as K,C as N,j as X,D as Y}from"./app-WOT0Vx2v.js";import{P as Z,a as ee}from"./PageGradient-PgXm7Awy.js";const te={class:"text-center py-12 sm:py-16 px-4"},se={class:"text-xl sm:text-2xl font-bold text-sushi-silver mb-4"},oe={class:"text-sushi-silver/60 mb-6 text-sm sm:text-base"},le={__name:"CartEmpty",props:{locale:{type:String,required:!0}},setup(a){const h=B().props.translations.common;return(m,p)=>(d(),u("div",te,[p[0]||(p[0]=e("div",{class:"text-5xl sm:text-6xl mb-4"},"ðŸ›’",-1)),e("h2",se,t(s(h).cart_empty_title),1),e("p",oe,t(s(h).cart_empty_description),1),$(s(O),{href:m.route("home",{locale:a.locale}),class:"inline-block bg-sushi-gold hover:bg-sushi-gold_op text-sushi-dark px-6 py-3 rounded-lg font-medium transition-colors"},{default:U(()=>[g(t(s(h).cart_empty_button),1)]),_:1},8,["href"])]))}},re={class:"bg-sushi-dark/50 border border-sushi-first rounded-lg p-4 hover:border-sushi-gold/50 transition-colors"},ie={class:"flex flex-col lg:flex-row lg:items-center gap-4"},ae={class:"flex items-center gap-4 flex-grow"},de={class:"w-20 h-20 sm:w-24 sm:h-24 bg-sushi-first rounded-lg overflow-hidden"},ne=["src","alt"],ue={key:1,class:"w-full h-full flex items-center justify-center text-2xl sm:text-3xl"},ce={class:"flex-grow min-w-0"},me={class:"text-sm text-sushi-silver/60 mt-1"},he={class:"flex items-center justify-between lg:justify-end gap-3 lg:gap-4"},pe={class:"flex items-center gap-1 sm:gap-2 bg-sushi-first rounded-lg overflow-hidden"},ve={class:"px-3 sm:px-4 py-2 text-sushi-silver font-medium min-w-[2.5ch] text-center"},xe={class:"text-right min-w-[80px] sm:min-w-[100px]"},be={class:"font-bold text-sushi-gold text-sm sm:text-base"},_e=["title"],ye={__name:"CartItem",props:{item:{type:Object,required:!0},locale:{type:String,required:!0}},emits:["increment","decrement","remove"],setup(a){const h=B().props.translations.common,m=a,p=j(()=>(m.item.product.price*m.item.quantity).toFixed(2));return(o,c)=>(d(),u("div",re,[e("div",ie,[e("div",ae,[$(s(O),{href:o.route("product.show",{locale:a.locale,slug:a.item.product.slug}),class:"flex-shrink-0"},{default:U(()=>[e("div",de,[a.item.product.image_url?(d(),u("img",{key:0,src:a.item.product.image_url,alt:a.item.product.name,class:"w-full h-full object-cover hover:scale-110 transition-transform duration-300"},null,8,ne)):(d(),u("div",ue,"ðŸ£"))])]),_:1},8,["href"]),e("div",ce,[$(s(O),{href:o.route("product.show",{locale:a.locale,slug:a.item.product.slug}),class:"font-semibold text-sushi-silver hover:text-sushi-gold transition-colors block truncate"},{default:U(()=>[g(t(a.item.product.name),1)]),_:1},8,["href"]),e("p",me,t(a.item.product.price)+" "+t(a.item.product.currency),1)])]),e("div",he,[e("div",pe,[e("button",{onClick:c[0]||(c[0]=x=>o.$emit("decrement")),class:"px-2 sm:px-3 py-2 bg-sushi-dark hover:bg-sushi-red/40 text-sushi-gold font-bold transition-colors text-lg"}," âˆ’ "),e("span",ve,t(a.item.quantity),1),e("button",{onClick:c[1]||(c[1]=x=>o.$emit("increment")),class:"px-2 sm:px-3 py-2 bg-sushi-dark hover:bg-sushi-red/40 text-sushi-gold font-bold transition-colors text-lg"}," + ")]),e("div",xe,[e("p",be,t(p.value)+" "+t(a.item.product.currency),1)]),e("button",{onClick:c[2]||(c[2]=x=>o.$emit("remove")),class:"text-red-400 hover:text-red-300 p-2 transition-colors flex-shrink-0",title:s(h).cart_item_remove},c[3]||(c[3]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,_e)])])]))}},fe={class:"lg:col-span-1"},ge={class:"bg-sushi-dark/50 border border-sushi-first rounded-lg p-4 sm:p-6 lg:sticky lg:top-24"},ke={class:"text-xl font-bold text-sushi-silver mb-4"},we={class:"space-y-2 mb-4 max-h-[200px] overflow-y-auto custom-scrollbar"},$e={class:"flex-grow min-w-0 pr-2"},Ce={class:"truncate block"},qe={class:"text-xs text-sushi-silver/60"},Me={class:"font-medium text-sushi-gold flex-shrink-0"},Te={class:"space-y-3 mb-6"},Se={class:"flex justify-between text-sushi-silver/80 text-sm sm:text-base"},Ne={class:"flex justify-between text-sushi-silver/80 text-sm sm:text-base"},Ue={key:0,class:"text-sushi-gold font-medium"},Ve={key:1,class:"text-sushi-silver"},De={key:0,class:"text-xs text-sushi-gold/80 bg-sushi-first/20 rounded p-2"},Fe={class:"border-t border-sushi-first pt-3"},je={class:"flex justify-between items-center"},Ie={class:"text-base sm:text-lg font-semibold text-sushi-silver"},Be={class:"text-xl sm:text-2xl font-bold text-sushi-gold"},Oe={__name:"CartSummary",props:{items:{type:Array,required:!0},totalItems:{type:Number,required:!0},totalPrice:{type:[Number,String],required:!0},currency:{type:String,required:!0},locale:{type:String,required:!0},deliveryCost:{type:Number,required:!0},isFreeDelivery:{type:Boolean,required:!0},amountUntilFree:{type:[Number,String],required:!0},totalWithDelivery:{type:[Number,String],required:!0}},emits:["checkout","clear"],setup(a){const h=B().props.translations.common;return(m,p)=>(d(),u("div",fe,[e("div",ge,[e("h3",ke,t(s(h).cart_summary_title),1),e("div",we,[(d(!0),u(I,null,A(a.items,o=>(d(),u("div",{key:o.product.id,class:"flex justify-between items-center text-sm text-sushi-silver/80 py-2 border-b border-sushi-first/30"},[e("div",$e,[e("span",Ce,t(o.product.name),1),e("span",qe,t(o.quantity)+" Ã— "+t(o.product.price)+" "+t(a.currency),1)]),e("span",Me,t((o.product.price*o.quantity).toFixed(2))+" "+t(a.currency),1)]))),128))]),p[2]||(p[2]=e("div",{class:"border-t border-sushi-first my-4"},null,-1)),e("div",Te,[e("div",Se,[e("span",null,t(s(h).cart_summary_products)+" ("+t(a.totalItems)+")",1),e("span",null,t(a.totalPrice)+" "+t(a.currency),1)]),e("div",Ne,[e("span",null,t(s(h).cart_summary_delivery),1),a.isFreeDelivery?(d(),u("span",Ue,t(s(h).cart_summary_free_delivery),1)):(d(),u("span",Ve,t(a.deliveryCost)+" "+t(a.currency),1))]),!a.isFreeDelivery&&a.amountUntilFree>0?(d(),u("div",De," ðŸ’¡ "+t(s(h).cart_summary_until_free)+" "+t(a.amountUntilFree)+" "+t(a.currency)+" "+t(s(h).cart_summary_until_free_text),1)):v("",!0),e("div",Fe,[e("div",je,[e("span",Ie,t(s(h).cart_summary_total),1),e("span",Be,t(a.totalWithDelivery)+" "+t(a.currency),1)])])]),e("button",{onClick:p[0]||(p[0]=o=>m.$emit("checkout")),class:"block w-full bg-sushi-gold hover:bg-sushi-gold_op text-sushi-dark py-3 rounded-lg font-medium text-center transition-colors mb-3"},t(s(h).cart_summary_checkout),1),$(s(O),{href:m.route("home",{locale:a.locale}),class:"block w-full bg-sushi-first hover:bg-sushi-first/80 text-sushi-silver border border-sushi-dark py-3 rounded-lg font-medium text-center transition-colors"},{default:U(()=>[g(t(s(h).cart_summary_continue),1)]),_:1},8,["href"]),e("button",{onClick:p[1]||(p[1]=o=>m.$emit("clear")),class:"w-full mt-4 text-red-400 hover:text-red-300 text-sm underline transition-colors"},t(s(h).cart_summary_clear),1)])]))}},Pe=R(Oe,[["__scopeId","data-v-27df23f9"]]),ze={class:"text-2xl font-bold text-sushi-silver mb-2"},We={class:"text-sushi-silver/80 text-sm"},Re={__name:"SuccessModal",props:{isOpen:Boolean,title:{type:String,default:"Ð—Ð°ÐºÐ°Ð· Ð¿Ñ€Ð¸Ð½ÑÑ‚"},message:{type:String,default:"Ð’Ð°Ñˆ Ð·Ð°ÐºÐ°Ð· ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð¾Ñ„Ð¾Ñ€Ð¼Ð»ÐµÐ½. ÐžÐ¶Ð¸Ð´Ð°Ð¹Ñ‚Ðµ Ð·Ð²Ð¾Ð½ÐºÐ° Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð°."},buttonText:{type:String,default:"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ"}},emits:["close"],setup(a,{emit:C}){const h=C,m=M(!1),p=()=>{m.value=!0,setTimeout(()=>h("close"),250)};return(o,c)=>(d(),z(E,{"is-visible":a.isOpen,"z-index":9999,onClose:p},{default:U(()=>[a.isOpen?(d(),u("div",{key:0,class:"fixed inset-0 flex items-center justify-center p-4",onClick:p},[e("div",{onClick:c[0]||(c[0]=W(()=>{},["stop"])),class:b(["bg-sushi-dark border border-sushi-gold rounded-xl w-full max-w-md p-6 text-center modal-content",m.value?"closing":""])},[c[1]||(c[1]=e("div",{class:"text-sushi-gold text-5xl mb-4"},"âœ”ï¸",-1)),e("h2",ze,t(a.title),1),e("p",We,t(a.message),1),e("button",{onClick:p,class:"mt-6 w-full bg-sushi-gold hover:bg-sushi-gold_op text-sushi-dark py-3 rounded-lg font-medium transition-colors"},t(a.buttonText),1)],2)])):v("",!0)]),_:1},8,["is-visible"]))}},Ae=R(Re,[["__scopeId","data-v-88273270"]]),Ee={class:"flex items-center justify-between p-4 sm:p-6 border-b border-sushi-first"},Le={class:"text-lg sm:text-2xl font-bold text-sushi-silver"},He={class:"p-4 sm:p-6"},Qe={class:"bg-sushi-first/30 border border-sushi-gold/30 rounded-lg p-3 sm:p-4 mb-6 space-y-2"},Ge={class:"flex justify-between items-center flex-wrap gap-2"},Je={class:"text-sushi-silver/80 text-sm sm:text-base"},Ke={class:"text-xl sm:text-2xl font-bold text-sushi-gold"},Xe={class:"text-xs sm:text-sm text-sushi-silver/70 space-y-1"},Ye={class:"flex justify-between"},Ze={class:"text-sushi-silver"},et={class:"flex justify-between"},tt={class:"text-sushi-silver"},st={class:"text-xs text-sushi-silver/60"},ot={key:0,class:"bg-red-500/10 border border-red-400 rounded-lg p-4 mb-6"},lt={class:"text-red-400 font-medium"},rt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},it={class:"block text-sm font-medium text-sushi-silver mb-2"},at={class:"text-red-400"},dt=["placeholder"],nt={key:0,class:"text-red-400 text-xs mt-1"},ut={class:"block text-sm font-medium text-sushi-silver mb-2"},ct={class:"text-red-400"},mt={class:"flex gap-2"},ht={class:"relative"},pt=["value"],vt=["placeholder"],xt={key:0,class:"text-red-400 text-xs mt-1"},bt={class:"block text-sm font-medium text-sushi-silver mb-2"},_t={class:"text-red-400"},yt=["placeholder"],ft={key:0,class:"text-red-400 text-xs mt-1"},gt={class:"block text-sm font-medium text-sushi-silver mb-3"},kt={class:"text-red-400"},wt={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},$t={class:"text-sushi-silver text-sm sm:text-base"},Ct={class:"text-sushi-silver text-sm sm:text-base"},qt={key:0,class:"text-red-400 text-xs mt-1"},Mt={key:0,class:"bg-sushi-first/30 border border-sushi-gold/30 rounded-lg p-4"},Tt={class:"text-sushi-silver font-medium mb-2"},St={class:"text-sushi-silver/80 text-sm mb-1"},Nt={class:"text-sushi-silver/60 text-xs"},Ut={key:1,class:"space-y-4 bg-sushi-first/10 border border-sushi-first rounded-lg p-4"},Vt={class:"block text-sm font-medium text-sushi-silver mb-3"},Dt={class:"text-red-400"},Ft={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},jt={class:"text-sushi-silver text-sm sm:text-base"},It={class:"text-sushi-silver text-sm sm:text-base"},Bt={key:0,class:"text-red-400 text-xs mt-1"},Ot={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},Pt={class:"sm:col-span-2"},zt={class:"block text-sm font-medium text-sushi-silver mb-2"},Wt={class:"text-red-400"},Rt=["required","placeholder"],At={key:0,class:"text-red-400 text-xs mt-1"},Et={class:"block text-sm font-medium text-sushi-silver mb-2"},Lt={class:"text-red-400"},Ht=["required","placeholder"],Qt={key:0,class:"text-red-400 text-xs mt-1"},Gt={key:0,class:"space-y-4"},Jt={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Kt={class:"block text-sm font-medium text-sushi-silver mb-2"},Xt={class:"text-red-400"},Yt=["required","placeholder"],Zt={key:0,class:"text-red-400 text-xs mt-1"},es={class:"block text-sm font-medium text-sushi-silver mb-2"},ts={class:"text-red-400"},ss=["required","placeholder"],os={key:0,class:"text-red-400 text-xs mt-1"},ls={key:1,class:"text-xs text-sushi-silver/50 mt-1"},rs={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},is={class:"block text-sm font-medium text-sushi-silver mb-2"},as=["placeholder"],ds={key:0,class:"text-red-400 text-xs mt-1"},ns={class:"block text-sm font-medium text-sushi-silver mb-2"},us=["placeholder"],cs={key:0,class:"text-red-400 text-xs mt-1"},ms={key:1,class:"text-xs text-sushi-silver/50 mt-1"},hs={class:"block text-sm font-medium text-sushi-silver mb-3"},ps={class:"text-red-400"},vs={class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},xs={class:"text-sushi-silver text-sm sm:text-base"},bs={class:"text-sushi-silver text-sm sm:text-base"},_s={key:0,class:"text-red-400 text-xs mt-1"},ys={class:"block text-sm font-medium text-sushi-silver mb-2"},fs=["placeholder"],gs={key:0,class:"text-red-400 text-xs mt-1"},ks={class:"flex flex-col sm:flex-row gap-3 pt-4"},ws=["disabled"],$s={__name:"CheckoutModal",props:{isOpen:{type:Boolean,required:!0}},emits:["close"],setup(a,{emit:C}){const h=a,m=C,o=B().props.translations.common,c=L(),x=M({}),l=M({name:"",phone:"",phoneCode:"+373",email:"",deliveryMethod:"pickup",addressType:"apartment",address:"",houseNumber:"",apartmentNumber:"",entrance:"",floor:"",intercom:"",comment:"",payment:"cash"}),P=[{code:"+373",label:"MD",flag:"ðŸ‡²ðŸ‡©"},{code:"+40",label:"RO",flag:"ðŸ‡·ðŸ‡´"},{code:"+380",label:"UA",flag:"ðŸ‡ºðŸ‡¦"}],T=M(!1),V=M(!1),D=M(!1);J(()=>h.isOpen,k=>{k?(document.body.style.overflow="hidden",V.value=!1):document.body.style.overflow=""});const w=j(()=>{const k=c.totalItems,r=k%10,i=k%100;return i>=11&&i<=19?o.item_5:r===1?o.item_1:r>=2&&r<=4?o.item_2:o.item_5}),y=j(()=>l.value.deliveryMethod==="pickup"?0:parseFloat(c.deliveryCost||0)),f=j(()=>parseFloat(c.totalPrice||0)+y.value),S=k=>{const r=parseFloat(k||0);return Number.isFinite(r)?r.toFixed(2):"0.00"},F=()=>{V.value=!0,setTimeout(()=>{m("close")},250)},H=()=>{x.value={},c.clearCart(),l.value={name:"",phoneCode:"+373",phone:"",email:"",deliveryMethod:"pickup",addressType:"apartment",address:"",houseNumber:"",apartmentNumber:"",entrance:"",floor:"",intercom:"",comment:"",payment:"cash"},D.value=!0},Q=()=>{D.value=!1,F()},n=k=>{var i;const r=(i=x.value)==null?void 0:i[k];return r?Array.isArray(r)?r[0]:r:null},G=async()=>{x.value={},T.value=!0;const k=c.items.map(i=>({id:i.product.id,name:i.product.name,price:parseFloat(i.product.price),quantity:i.quantity})),r={customer:{name:l.value.name,phone:l.value.phoneCode+l.value.phone.replace(/\s+/g,""),email:l.value.email},delivery:{method:l.value.deliveryMethod,...l.value.deliveryMethod==="delivery"&&{addressType:l.value.addressType,address:l.value.address,houseNumber:l.value.houseNumber,...l.value.addressType==="apartment"&&{apartmentNumber:l.value.apartmentNumber,entrance:l.value.entrance,floor:l.value.floor,intercom:l.value.intercom}}},payment:l.value.payment,comment:l.value.comment,items:k,total:parseFloat(c.totalPrice),deliveryCost:y.value,totalWithDelivery:f.value,currency:c.currency};X.post(route("order.checkout"),r,{preserveScroll:!0,onSuccess:()=>{H()},onError:i=>{x.value=i,console.error("ÐžÑˆÐ¸Ð±ÐºÐ¸ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸:",i)},onFinish:()=>{T.value=!1}})};return(k,r)=>(d(),u(I,null,[$(E,{"is-visible":a.isOpen,"z-index":9999,onClose:F},{default:U(()=>[a.isOpen?(d(),u("div",{key:0,class:"fixed inset-0 flex items-center justify-center p-2 sm:p-4",onClick:F},[e("div",{onClick:r[17]||(r[17]=W(()=>{},["stop"])),class:b(["bg-sushi-dark border border-sushi-gold rounded-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto modal-content",V.value?"closing":""])},[e("div",Ee,[e("h2",Le,t(s(o).checkout_title),1),e("button",{onClick:F,class:"text-sushi-silver/60 hover:text-sushi-gold transition-colors p-1"},r[18]||(r[18]=[e("svg",{class:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",He,[e("div",Qe,[e("div",Ge,[e("span",Je,t(s(o).checkout_total_label),1),e("span",Ke,t(S(f.value))+" "+t(s(c).currency),1)]),e("div",Xe,[e("div",Ye,[e("span",null,t(s(o).cart_summary_products),1),e("span",Ze,t(S(s(c).totalPrice))+" "+t(s(c).currency),1)]),e("div",et,[e("span",null,t(s(o).cart_summary_delivery),1),e("span",tt,t(S(y.value))+" "+t(s(c).currency),1)])]),e("p",st,t(s(c).totalItems)+" "+t(w.value),1)]),n("items")?(d(),u("div",ot,[e("p",lt,t(n("items")),1)])):v("",!0),e("form",{onSubmit:W(G,["prevent"]),class:"space-y-4"},[e("div",rt,[e("div",null,[e("label",it,[g(t(s(o).checkout_name_label)+" ",1),e("span",at,t(s(o).checkout_required),1)]),_(e("input",{"onUpdate:modelValue":r[0]||(r[0]=i=>l.value.name=i),type:"text",required:"",class:b(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",n("customer.name")?"border-red-400":"border-sushi-dark"]),placeholder:s(o).checkout_name_placeholder},null,10,dt),[[q,l.value.name]]),n("customer.name")?(d(),u("p",nt,t(n("customer.name")),1)):v("",!0)]),e("div",null,[e("label",ut,[g(t(s(o).checkout_phone_label)+" ",1),e("span",ct,t(s(o).checkout_required),1)]),e("div",mt,[e("div",ht,[_(e("select",{"onUpdate:modelValue":r[1]||(r[1]=i=>l.value.phoneCode=i),class:"bg-sushi-first border border-sushi-dark rounded-lg px-3 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors w-28 appearance-none"},[(d(),u(I,null,A(P,i=>e("option",{key:i.code,value:i.code},t(i.flag)+" "+t(i.code),9,pt)),64))],512),[[K,l.value.phoneCode]])]),_(e("input",{"onUpdate:modelValue":r[2]||(r[2]=i=>l.value.phone=i),type:"text",required:"",class:b(["flex-1 bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",n("customer.phone")?"border-red-400":"border-sushi-dark"]),placeholder:s(o).checkout_phone_placeholder},null,10,vt),[[q,l.value.phone]])]),n("customer.phone")?(d(),u("p",xt,t(n("customer.phone")),1)):v("",!0)])]),e("div",null,[e("label",bt,[g(t(s(o).checkout_email_label)+" ",1),e("span",_t,t(s(o).checkout_required),1)]),_(e("input",{"onUpdate:modelValue":r[3]||(r[3]=i=>l.value.email=i),type:"email",required:"",class:b(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",n("customer.email")?"border-red-400":"border-sushi-dark"]),placeholder:s(o).checkout_email_placeholder},null,10,yt),[[q,l.value.email]]),n("customer.email")?(d(),u("p",ft,t(n("customer.email")),1)):v("",!0)]),e("div",null,[e("label",gt,[g(t(s(o).checkout_delivery_method_label)+" ",1),e("span",kt,t(s(o).checkout_required),1)]),e("div",wt,[e("label",{class:b(["flex items-center p-3 bg-sushi-first border rounded-lg cursor-pointer transition-colors",l.value.deliveryMethod==="pickup"?"border-sushi-gold bg-sushi-gold/10":"border-sushi-dark hover:border-sushi-gold/50"])},[_(e("input",{"onUpdate:modelValue":r[4]||(r[4]=i=>l.value.deliveryMethod=i),type:"radio",value:"pickup",class:"mr-3 flex-shrink-0",required:""},null,512),[[N,l.value.deliveryMethod]]),e("span",$t,t(s(o).checkout_pickup),1)],2),e("label",{class:b(["flex items-center p-3 bg-sushi-first border rounded-lg cursor-pointer transition-colors",l.value.deliveryMethod==="delivery"?"border-sushi-gold bg-sushi-gold/10":"border-sushi-dark hover:border-sushi-gold/50"])},[_(e("input",{"onUpdate:modelValue":r[5]||(r[5]=i=>l.value.deliveryMethod=i),type:"radio",value:"delivery",class:"mr-3 flex-shrink-0",required:""},null,512),[[N,l.value.deliveryMethod]]),e("span",Ct,t(s(o).checkout_delivery),1)],2)]),n("delivery.method")?(d(),u("p",qt,t(n("delivery.method")),1)):v("",!0)]),l.value.deliveryMethod==="pickup"?(d(),u("div",Mt,[e("p",Tt,t(s(o).checkout_pickup_address_label),1),e("p",St,t(s(o).checkout_pickup_address),1),e("p",Nt,t(s(o).checkout_pickup_hours),1)])):v("",!0),l.value.deliveryMethod==="delivery"?(d(),u("div",Ut,[e("div",null,[e("label",Vt,[g(t(s(o).checkout_address_type_label)+" ",1),e("span",Dt,t(s(o).checkout_required),1)]),e("div",Ft,[e("label",{class:b(["flex items-center p-3 bg-sushi-first border rounded-lg cursor-pointer transition-colors",l.value.addressType==="house"?"border-sushi-gold bg-sushi-gold/10":"border-sushi-dark hover:border-sushi-gold/50"])},[_(e("input",{"onUpdate:modelValue":r[6]||(r[6]=i=>l.value.addressType=i),type:"radio",value:"house",class:"mr-3 flex-shrink-0"},null,512),[[N,l.value.addressType]]),e("span",jt,t(s(o).checkout_house),1)],2),e("label",{class:b(["flex items-center p-3 bg-sushi-first border rounded-lg cursor-pointer transition-colors",l.value.addressType==="apartment"?"border-sushi-gold bg-sushi-gold/10":"border-sushi-dark hover:border-sushi-gold/50"])},[_(e("input",{"onUpdate:modelValue":r[7]||(r[7]=i=>l.value.addressType=i),type:"radio",value:"apartment",class:"mr-3 flex-shrink-0"},null,512),[[N,l.value.addressType]]),e("span",It,t(s(o).checkout_apartment),1)],2)]),n("delivery.addressType")?(d(),u("p",Bt,t(n("delivery.addressType")),1)):v("",!0)]),e("div",Ot,[e("div",Pt,[e("label",zt,[g(t(s(o).checkout_street_label)+" ",1),e("span",Wt,t(s(o).checkout_required),1)]),_(e("input",{"onUpdate:modelValue":r[8]||(r[8]=i=>l.value.address=i),type:"text",required:l.value.deliveryMethod==="delivery",class:b(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",n("delivery.address")?"border-red-400":"border-sushi-dark"]),placeholder:s(o).checkout_street_placeholder},null,10,Rt),[[q,l.value.address]]),n("delivery.address")?(d(),u("p",At,t(n("delivery.address")),1)):v("",!0)]),e("div",null,[e("label",Et,[g(t(s(o).checkout_house_number_label)+" ",1),e("span",Lt,t(s(o).checkout_required),1)]),_(e("input",{"onUpdate:modelValue":r[9]||(r[9]=i=>l.value.houseNumber=i),type:"text",required:l.value.deliveryMethod==="delivery",class:b(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",n("delivery.houseNumber")?"border-red-400":"border-sushi-dark"]),placeholder:s(o).checkout_house_number_placeholder},null,10,Ht),[[q,l.value.houseNumber]]),n("delivery.houseNumber")?(d(),u("p",Qt,t(n("delivery.houseNumber")),1)):v("",!0)])]),l.value.addressType==="apartment"?(d(),u("div",Gt,[e("div",Jt,[e("div",null,[e("label",Kt,[g(t(s(o).checkout_apartment_number_label)+" ",1),e("span",Xt,t(s(o).checkout_required),1)]),_(e("input",{"onUpdate:modelValue":r[10]||(r[10]=i=>l.value.apartmentNumber=i),type:"text",required:l.value.deliveryMethod==="delivery"&&l.value.addressType==="apartment",class:b(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",n("delivery.apartmentNumber")?"border-red-400":"border-sushi-dark"]),placeholder:s(o).checkout_apartment_number_placeholder},null,10,Yt),[[q,l.value.apartmentNumber]]),n("delivery.apartmentNumber")?(d(),u("p",Zt,t(n("delivery.apartmentNumber")),1)):v("",!0)]),e("div",null,[e("label",es,[g(t(s(o).checkout_entrance_label)+" ",1),e("span",ts,t(s(o).checkout_required),1)]),_(e("input",{"onUpdate:modelValue":r[11]||(r[11]=i=>l.value.entrance=i),type:"text",required:l.value.deliveryMethod==="delivery"&&l.value.addressType==="apartment",class:b(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",n("delivery.entrance")?"border-red-400":"border-sushi-dark"]),placeholder:s(o).checkout_entrance_placeholder},null,10,ss),[[q,l.value.entrance]]),n("delivery.entrance")?(d(),u("p",os,t(n("delivery.entrance")),1)):(d(),u("p",ls,t(s(o).checkout_entrance_hint),1))])]),e("div",rs,[e("div",null,[e("label",is,t(s(o).checkout_floor_label),1),_(e("input",{"onUpdate:modelValue":r[12]||(r[12]=i=>l.value.floor=i),type:"text",class:b(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",n("delivery.floor")?"border-red-400":"border-sushi-dark"]),placeholder:s(o).checkout_floor_placeholder},null,10,as),[[q,l.value.floor]]),n("delivery.floor")?(d(),u("p",ds,t(n("delivery.floor")),1)):v("",!0)]),e("div",null,[e("label",ns,t(s(o).checkout_intercom_label),1),_(e("input",{"onUpdate:modelValue":r[13]||(r[13]=i=>l.value.intercom=i),type:"text",class:b(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors",n("delivery.intercom")?"border-red-400":"border-sushi-dark"]),placeholder:s(o).checkout_intercom_placeholder},null,10,us),[[q,l.value.intercom]]),n("delivery.intercom")?(d(),u("p",cs,t(n("delivery.intercom")),1)):(d(),u("p",ms,t(s(o).checkout_intercom_hint),1))])])])):v("",!0)])):v("",!0),e("div",null,[e("label",hs,[g(t(s(o).checkout_payment_label)+" ",1),e("span",ps,t(s(o).checkout_required),1)]),e("div",vs,[e("label",{class:b(["flex items-center p-3 bg-sushi-first border rounded-lg cursor-pointer transition-colors",l.value.payment==="cash"?"border-sushi-gold bg-sushi-gold/10":"border-sushi-dark hover:border-sushi-gold/50"])},[_(e("input",{"onUpdate:modelValue":r[14]||(r[14]=i=>l.value.payment=i),type:"radio",value:"cash",class:"mr-3 flex-shrink-0",required:""},null,512),[[N,l.value.payment]]),e("span",xs,t(s(o).checkout_cash),1)],2),e("label",{class:b(["flex items-center p-3 bg-sushi-first border rounded-lg cursor-pointer transition-colors",l.value.payment==="card"?"border-sushi-gold bg-sushi-gold/10":"border-sushi-dark hover:border-sushi-gold/50"])},[_(e("input",{"onUpdate:modelValue":r[15]||(r[15]=i=>l.value.payment=i),type:"radio",value:"card",class:"mr-3 flex-shrink-0",required:""},null,512),[[N,l.value.payment]]),e("span",bs,t(s(o).checkout_card),1)],2)]),n("payment")?(d(),u("p",_s,t(n("payment")),1)):v("",!0)]),e("div",null,[e("label",ys,t(s(o).checkout_comment_label),1),_(e("textarea",{"onUpdate:modelValue":r[16]||(r[16]=i=>l.value.comment=i),rows:"3",class:b(["w-full bg-sushi-first border rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-sushi-silver text-sm sm:text-base focus:border-sushi-gold focus:outline-none transition-colors resize-none",n("comment")?"border-red-400":"border-sushi-dark"]),placeholder:s(o).checkout_comment_placeholder},null,10,fs),[[q,l.value.comment]]),n("comment")?(d(),u("p",gs,t(n("comment")),1)):v("",!0)]),e("div",ks,[e("button",{type:"submit",disabled:T.value,class:"w-full sm:flex-1 bg-sushi-gold hover:bg-sushi-gold_op text-sushi-dark py-3 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base"},t(T.value?s(o).checkout_submitting:s(o).checkout_submit),9,ws),e("button",{type:"button",onClick:F,class:"w-full sm:flex-1 bg-sushi-first hover:bg-sushi-first/80 text-sushi-silver border border-sushi-dark py-3 rounded-lg font-medium transition-colors text-sm sm:text-base"},t(s(o).checkout_cancel),1)])],32)])],2)])):v("",!0)]),_:1},8,["is-visible"]),$(Ae,{"is-open":D.value,title:s(o).checkout_success_title,message:s(o).checkout_success_message,"button-text":s(o).checkout_success_close,onClose:Q},null,8,["is-open","title","message","button-text"])],64))}},Cs=R($s,[["__scopeId","data-v-baddddf0"]]),qs={class:"relative z-20 min-h-screen"},Ms={class:"container mx-auto px-4 py-8 max-w-6xl"},Ts={class:"mb-8"},Ss={class:"text-3xl font-bold text-sushi-silver mb-2"},Ns={class:"text-sushi-silver/60"},Us={key:1,class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Vs={class:"lg:col-span-2 space-y-4"},Ds={key:0,class:"fixed bottom-4 left-1/2 -translate-x-1/2 z-50 px-4"},Fs={class:"bg-sushi-dark/90 border border-sushi-gold/60 text-sushi-silver px-4 py-3 rounded-full shadow-lg flex items-center gap-3"},js={class:"text-sm"},Os={__name:"Cart",setup(a){const C=B(),h=C.props.translations.common,m=L();C.props.deliverySettings?m.initDeliverySettings(C.props.deliverySettings):console.warn("âš  deliverySettings Ð½Ðµ Ð¿ÐµÑ€ÐµÐ´Ð°Ð½ Ð² props. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ Ð¸Ð· ÑÑ‚Ð¾Ñ€Ð°.");const p=M(!1),o=M(!1),c=M(null),x=M(null),l=j(()=>{const w=m.totalItems,y=w%10,f=w%100;return f>=11&&f<=19?h.item_5:y===1?h.item_1:y>=2&&y<=4?h.item_2:h.item_5}),P=w=>{const y=m.items.find(f=>f.product.id===w);y&&(m.removeFromCart(w),c.value={product:y.product,quantity:y.quantity},o.value=!0,x.value&&clearTimeout(x.value),x.value=setTimeout(()=>{o.value=!1,c.value=null,x.value=null},5e3))},T=()=>{c.value&&(m.addToCart(c.value.product,c.value.quantity),o.value=!1,c.value=null,x.value&&(clearTimeout(x.value),x.value=null))},V=()=>{o.value=!1,c.value=null,x.value&&(clearTimeout(x.value),x.value=null)},D=()=>{confirm(h.cart_confirm_clear)&&m.clearCart()};return(w,y)=>(d(),u(I,null,[$(s(Y),{title:s(h).cart_page_title},null,8,["title"]),$(Z,{image:"/images/sushi-pattern.jpg",opacity:.4,speed:.2,"max-height":"100vh"}),$(ee),e("div",qs,[e("div",Ms,[e("div",Ts,[e("h1",Ss,t(s(h).cart_page_title),1),e("p",Ns,t(s(m).totalItems)+" "+t(l.value),1)]),s(m).items.length===0?(d(),z(le,{key:0,locale:w.$page.props.locale},null,8,["locale"])):(d(),u("div",Us,[e("div",Vs,[(d(!0),u(I,null,A(s(m).items,f=>(d(),z(ye,{key:f.product.id,item:f,locale:w.$page.props.locale,onIncrement:S=>s(m).incrementQuantity(f.product.id),onDecrement:S=>s(m).decrementQuantity(f.product.id),onRemove:S=>P(f.product.id)},null,8,["item","locale","onIncrement","onDecrement","onRemove"]))),128))]),$(Pe,{items:s(m).items,"total-items":s(m).totalItems,"total-price":s(m).totalPrice,currency:s(m).currency,locale:w.$page.props.locale,"delivery-cost":s(m).deliveryCost,"is-free-delivery":s(m).isFreeDelivery,"amount-until-free":s(m).amountUntilFreeDelivery,"total-with-delivery":s(m).totalWithDelivery,onCheckout:y[0]||(y[0]=f=>p.value=!0),onClear:D},null,8,["items","total-items","total-price","currency","locale","delivery-cost","is-free-delivery","amount-until-free","total-with-delivery"])]))])]),o.value?(d(),u("div",Ds,[e("div",Fs,[e("span",js,t(s(h).cart_item_removed||"Ð¢Ð¾Ð²Ð°Ñ€ ÑƒÐ´Ð°Ð»Ñ‘Ð½ Ð¸Ð· ÐºÐ¾Ñ€Ð·Ð¸Ð½Ñ‹"),1),e("button",{onClick:T,class:"text-xs font-semibold uppercase tracking-wide underline underline-offset-4"},t(s(h).common_undo||"ÐžÑ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ"),1),e("button",{onClick:V,class:"ml-1 text-sushi-silver/60 text-lg leading-none","aria-label":"Close"},"Ã—")])])):v("",!0),$(Cs,{"is-open":p.value,onClose:y[1]||(y[1]=f=>p.value=!1)},null,8,["is-open"])],64))}};export{Os as default};
